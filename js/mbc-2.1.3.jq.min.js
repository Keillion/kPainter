/**
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Mobile Browser Capture
 * @website http://www.dynamsoft.com
 * @preserve Copyright 2018, Dynamsoft Corporation
 * @author Dynamsoft
 * @version 2.1.3
 * @fileoverview Dynamsoft JavaScript Library for Basic Image Edit
 * More info on MBC: http://www.dynamsoft.com/
 */
/*
 jQuery v3.2.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector | (c) JS Foundation and other contributors | jquery.org/license */
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,k){if(k.get||k.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[a]=k.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var a=0;return $jscomp.iteratorPrototype(function(){return a<e.length?{done:!1,value:e[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.findInternal=function(e,a,k){e instanceof String&&(e=String(e));for(var l=e.length,C=0;C<l;C++){var da=e[C];if(a.call(k,da,C,e))return{i:C,v:da}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(e,a,k,l){if(a){k=$jscomp.global;e=e.split(".");for(l=0;l<e.length-1;l++){var C=e[l];C in k||(k[C]={});k=k[C]}e=e[e.length-1];l=k[e];a=a(l);a!=l&&null!=a&&$jscomp.defineProperty(k,e,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(a,k){return $jscomp.findInternal(this,a,k).v}},"es6-impl","es3");
$jscomp.polyfill("Math.sign",function(e){return e?e:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.fill",function(e){return e?e:function(a,k,e){var l=this.length||0;0>k&&(k=Math.max(0,l+k));if(null==e||e>l)e=l;e=Number(e);0>e&&(e=Math.max(0,l+e));for(k=Number(k||0);k<e;k++)this[k]=a;return this}},"es6-impl","es3");$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();var a=e[Symbol.iterator];return a?a.call(e):$jscomp.arrayIterator(e)};
$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(e){function a(){this.batch_=null}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;a.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};a.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var k=$jscomp.global.setTimeout;a.prototype.asyncExecuteFunction=function(a){k(a,0)};a.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var e=0;e<a.length;++e){var k=a[e];delete a[e];try{k()}catch(A){this.asyncThrow_(A)}}}this.batch_=null};a.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var l=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{a(e.resolve,e.reject)}catch(ma){e.reject(ma)}};l.prototype.createResolveAndReject_=function(){function a(a){return function(p){k||(k=!0,a.call(e,p))}}var e=this,
k=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};l.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof l)this.settleSameAsPromise_(a);else{var e;a:switch(typeof a){case "object":e=null!=a;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};l.prototype.resolveToNonPromiseObj_=function(a){var e=void 0;try{e=a.then}catch(ma){this.reject_(ma);return}"function"==
typeof e?this.settleSameAsThenable_(e,a):this.fulfill_(a)};l.prototype.reject_=function(a){this.settle_(2,a)};l.prototype.fulfill_=function(a){this.settle_(1,a)};l.prototype.settle_=function(a,e){if(0!=this.state_)throw Error("Cannot settle("+a+", "+e|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=e;this.executeOnSettledCallbacks_()};l.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,e=0;e<a.length;++e)a[e].call(),
a[e]=null;this.onSettledCallbacks_=null}};var C=new a;l.prototype.settleSameAsPromise_=function(a){var e=this.createResolveAndReject_();a.callWhenSettled_(e.resolve,e.reject)};l.prototype.settleSameAsThenable_=function(a,e){var k=this.createResolveAndReject_();try{a.call(e,k.resolve,k.reject)}catch(A){k.reject(A)}};l.prototype.then=function(a,e){function k(a,e){return"function"==typeof a?function(e){try{D(a(e))}catch(L){p(L)}}:e}var D,p,F=new l(function(a,e){D=a;p=e});this.callWhenSettled_(k(a,D),
k(e,p));return F};l.prototype["catch"]=function(a){return this.then(void 0,a)};l.prototype.callWhenSettled_=function(a,e){function k(){switch(l.state_){case 1:a(l.result_);break;case 2:e(l.result_);break;default:throw Error("Unexpected state: "+l.state_);}}var l=this;null==this.onSettledCallbacks_?C.asyncExecute(k):this.onSettledCallbacks_.push(function(){C.asyncExecute(k)})};l.resolve=function(a){return a instanceof l?a:new l(function(e,k){e(a)})};l.reject=function(a){return new l(function(e,k){k(a)})};
l.race=function(a){return new l(function(e,k){for(var D=$jscomp.makeIterator(a),p=D.next();!p.done;p=D.next())l.resolve(p.value).callWhenSettled_(e,k)})};l.all=function(a){var e=$jscomp.makeIterator(a),k=e.next();return k.done?l.resolve([]):new l(function(a,p){function D(e){return function(k){v[e]=k;A--;0==A&&a(v)}}var v=[],A=0;do v.push(void 0),A++,l.resolve(k.value).callWhenSettled_(D(v.length-1),p),k=e.next();while(!k.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(l.$jscomp$new$AsyncExecutor=function(){return new a});
return l},"es6-impl","es3");
!function(e,a){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?a(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return a(e)}:a(e)}("undefined"!=typeof window?window:this,function(e,a){function k(b,c){c=c||q;var d=c.createElement("script");d.text=b;c.head.appendChild(d).parentNode.removeChild(d)}function l(b){var c=!!b&&"length"in b&&b.length,m=d.type(b);return"function"!==m&&!d.isWindow(b)&&("array"===m||0===c||"number"==
typeof c&&0<c&&c-1 in b)}function C(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()}function da(b,c,m){return d.isFunction(c)?d.grep(b,function(b,d){return!!c.call(b,d,b)!==m}):c.nodeType?d.grep(b,function(b){return b===c!==m}):"string"!=typeof c?d.grep(b,function(b){return-1<r.call(c,b)!==m}):ab.test(c)?d.filter(c,b,m):(c=d.filter(c,b),d.grep(b,function(b){return-1<r.call(c,b)!==m&&1===b.nodeType}))}function D(b,c){for(;(b=b[c])&&1!==b.nodeType;);return b}function ma(b){var c=
{};return d.each(b.match(ha)||[],function(b,d){c[d]=!0}),c}function A(b){return b}function p(b){throw b;}function F(b,c,m,x){var a;try{b&&d.isFunction(a=b.promise)?a.call(b).done(c).fail(m):b&&d.isFunction(a=b.then)?a.call(b,c,m):c.apply(void 0,[b].slice(x))}catch(U){m.apply(void 0,[U])}}function v(){q.removeEventListener("DOMContentLoaded",v);e.removeEventListener("load",v);d.ready()}function N(){this.expando=d.expando+N.uid++}function J(b,c,d){var m;if(void 0===d&&1===b.nodeType)if(m="data-"+c.replace(bb,
"-$&").toLowerCase(),d=b.getAttribute(m),"string"==typeof d){try{m=d,d="true"===m||"false"!==m&&("null"===m?null:m===+m+""?+m:cb.test(m)?JSON.parse(m):m)}catch(B){}ba.set(b,c,d)}else d=void 0;return d}function L(b,c,m,a){var x,f=1,g=20,h=a?function(){return a.cur()}:function(){return d.css(b,c,"")},e=h(),q=m&&m[3]||(d.cssNumber[c]?"":"px"),n=(d.cssNumber[c]||"px"!==q&&+e)&&wa.exec(d.css(b,c));if(n&&n[3]!==q){q=q||n[3];m=m||[];n=+e||1;do f=f||".5",n/=f,d.style(b,c,n+q);while(f!==(f=h()/e)&&1!==f&&
--g)}return m&&(n=+n||+e||0,x=m[1]?n+(m[1]+1)*m[2]:+m[2],a&&(a.unit=q,a.start=n,a.end=x)),x}function ea(b,c){for(var m,a,B=[],f=0,g=b.length;f<g;f++)if(a=b[f],a.style)if(m=a.style.display,c){if("none"===m&&(B[f]=P.get(a,"display")||null,B[f]||(a.style.display="")),""===a.style.display&&Ia(a)){m=f;var h,e=void 0;h=a.ownerDocument;var q=a.nodeName;h=(a=Ja[q])?a:(e=h.body.appendChild(h.createElement(q)),a=d.css(e,"display"),e.parentNode.removeChild(e),"none"===a&&(a="block"),Ja[q]=a,a);B[m]=h}}else"none"!==
m&&(B[f]="none",P.set(a,"display",m));for(f=0;f<g;f++)null!=B[f]&&(b[f].style.display=B[f]);return b}function y(b,c){var m;return m="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c||"*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll(c||"*"):[],void 0===c||c&&C(b,c)?d.merge([b],m):m}function H(b,c){for(var d=0,a=b.length;d<a;d++)P.set(b[d],"globalEval",!c||P.get(c[d],"globalEval"))}function S(b,c,m,a,f){for(var x,B,g,h,e=c.createDocumentFragment(),q=[],n=0,r=b.length;n<
r;n++)if(x=b[n],x||0===x)if("object"===d.type(x))d.merge(q,x.nodeType?[x]:x);else if(fb.test(x)){B=B||e.appendChild(c.createElement("div"));g=(Ka.exec(x)||["",""])[1].toLowerCase();g=ja[g]||ja._default;B.innerHTML=g[1]+d.htmlPrefilter(x)+g[2];for(g=g[0];g--;)B=B.lastChild;d.merge(q,B.childNodes);B=e.firstChild;B.textContent=""}else q.push(c.createTextNode(x));e.textContent="";for(n=0;x=q[n++];)if(a&&-1<d.inArray(x,a))f&&f.push(x);else if(h=d.contains(x.ownerDocument,x),B=y(e.appendChild(x),"script"),
h&&H(B),m)for(g=0;x=B[g++];)La.test(x.type||"")&&m.push(x);return e}function E(){return!0}function O(){return!1}function t(){try{return q.activeElement}catch(b){}}function pa(b,c,m,a,B,f){var x,g;if("object"==typeof c){"string"!=typeof m&&(a=a||m,m=void 0);for(g in c)pa(b,g,m,a,c[g],f);return b}if(null==a&&null==B?(B=m,a=m=void 0):null==B&&("string"==typeof m?(B=a,a=void 0):(B=a,a=m,m=void 0)),!1===B)B=O;else if(!B)return b;return 1===f&&(x=B,B=function(b){return d().off(b),x.apply(this,arguments)},
B.guid=x.guid||(x.guid=d.guid++)),b.each(function(){d.event.add(this,c,B,a,m)})}function W(b,c){return C(b,"table")&&C(11!==c.nodeType?c:c.firstChild,"tr")?d(">tbody",b)[0]||b:b}function G(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function w(b){var c=gb.exec(b.type);return c?b.type=c[1]:b.removeAttribute("type"),b}function qa(b,c){var m,a,f,g,h,e;if(1===c.nodeType){if(P.hasData(b)&&(m=P.access(b),a=P.set(c,m),e=m.events))for(f in delete a.handle,a.events={},e)for(m=0,a=e[f].length;m<
a;m++)d.event.add(c,f,e[f][m]);ba.hasData(b)&&(g=ba.access(b),h=d.extend({},g),ba.set(c,h))}}function V(b,c,m,a){c=u.apply([],c);var x,f,g,h,e=0,q=b.length,n=q-1,r=c[0],I=d.isFunction(r);if(I||1<q&&"string"==typeof r&&!R.checkClone&&hb.test(r))return b.each(function(d){var x=b.eq(d);I&&(c[0]=r.call(this,d,x.html()));V(x,c,m,a)});if(q&&(x=S(c,b[0].ownerDocument,!1,b,a),f=x.firstChild,1===x.childNodes.length&&(x=f),f||a)){f=d.map(y(x,"script"),G);for(g=f.length;e<q;e++)h=x,e!==n&&(h=d.clone(h,!0,!0),
g&&d.merge(f,y(h,"script"))),m.call(b[e],h,e);if(g)for(x=f[f.length-1].ownerDocument,d.map(f,w),e=0;e<g;e++)h=f[e],La.test(h.type||"")&&!P.access(h,"globalEval")&&d.contains(x,h)&&(h.src?d._evalUrl&&d._evalUrl(h.src):k(h.textContent.replace(ib,""),x))}return b}function na(b,c,m){for(var a=c?d.filter(c,b):b,f=0;null!=(c=a[f]);f++)m||1!==c.nodeType||d.cleanData(y(c)),c.parentNode&&(m&&d.contains(c.ownerDocument,c)&&H(y(c,"script")),c.parentNode.removeChild(c));return b}function T(b,c,m){var a,f,g,h,
e=b.style;return m=m||xa(b),m&&(h=m.getPropertyValue(c)||m[c],""!==h||d.contains(b.ownerDocument,b)||(h=d.style(b,c)),!R.pixelMarginRight()&&Ea.test(h)&&Ma.test(c)&&(a=e.width,f=e.minWidth,g=e.maxWidth,e.minWidth=e.maxWidth=e.width=h,h=m.width,e.width=a,e.minWidth=f,e.maxWidth=g)),void 0!==h?h+"":h}function ka(b,c){return{get:function(){return b()?void delete this.get:(this.get=c).apply(this,arguments)}}}function ca(b){var c=d.cssProps[b];if(!c){var c=d.cssProps,m;a:if(m=b,!(m in Na)){for(var a=m[0].toUpperCase()+
m.slice(1),f=Oa.length;f--;)if(m=Oa[f]+a,m in Na)break a;m=void 0}c=c[b]=m||b}return c}function ga(b,c,d){return(b=wa.exec(c))?Math.max(0,b[2]-(d||0))+(b[3]||"px"):c}function X(b,c,m,a,f){var x=0;for(c=m===(a?"border":"content")?4:"width"===c?1:0;4>c;c+=2)"margin"===m&&(x+=d.css(b,m+ra[c],!0,f)),a?("content"===m&&(x-=d.css(b,"padding"+ra[c],!0,f)),"margin"!==m&&(x-=d.css(b,"border"+ra[c]+"Width",!0,f))):(x+=d.css(b,"padding"+ra[c],!0,f),"padding"!==m&&(x+=d.css(b,"border"+ra[c]+"Width",!0,f)));return x}
function aa(b,c,m){var a,f=xa(b),g=T(b,c,f),h="border-box"===d.css(b,"boxSizing",!1,f);return Ea.test(g)?g:(a=h&&(R.boxSizingReliable()||g===b.style[c]),"auto"===g&&(g=b["offset"+c[0].toUpperCase()+c.slice(1)]),g=parseFloat(g)||0,g+X(b,c,m||(h?"border":"content"),a,f)+"px")}function Q(b){return(b.match(ha)||[]).join(" ")}function M(b){return b.getAttribute&&b.getAttribute("class")||""}function z(b,c,m,a){var f;if(Array.isArray(c))d.each(c,function(c,d){m||jb.test(b)?a(b,d):z(b+"["+("object"==typeof d&&
null!=d?c:"")+"]",d,m,a)});else if(m||"object"!==d.type(c))a(b,c);else for(f in c)z(b+"["+f+"]",c[f],m,a)}var f=[],q=e.document,g=Object.getPrototypeOf,h=f.slice,u=f.concat,n=f.push,r=f.indexOf,Y={},I=Y.toString,ia=Y.hasOwnProperty,K=ia.toString,fa=K.call(Object),R={},d=function(b,c){return new d.fn.init(b,c)},ya=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,za=/^-ms-/,Fa=/-([a-z])/g,Ga=function(b,c){return c.toUpperCase()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();
$jscomp.initSymbolIterator();d.fn=d.prototype={jquery:"3.2.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",constructor:d,length:0,toArray:function(){return h.call(this)},get:function(b){return null==b?h.call(this):0>b?this[b+this.length]:this[b]},pushStack:function(b){b=d.merge(this.constructor(),b);return b.prevObject=this,b},each:function(b){return d.each(this,
b)},map:function(b){return this.pushStack(d.map(this,function(c,d){return b.call(c,d,c)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var c=this.length;b=+b+(0>b?c:0);return this.pushStack(0<=b&&b<c?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:f.sort,splice:f.splice};d.extend=d.fn.extend=function(){var b,c,m,a,f,g,h=arguments[0]||{},e=1,q=arguments.length,
n=!1;"boolean"==typeof h&&(n=h,h=arguments[e]||{},e++);"object"==typeof h||d.isFunction(h)||(h={});for(e===q&&(h=this,e--);e<q;e++)if(null!=(b=arguments[e]))for(c in b)m=h[c],a=b[c],h!==a&&(n&&a&&(d.isPlainObject(a)||(f=Array.isArray(a)))?(f?(f=!1,g=m&&Array.isArray(m)?m:[]):g=m&&d.isPlainObject(m)?m:{},h[c]=d.extend(n,g,a)):void 0!==a&&(h[c]=a));return h};d.extend({expando:"jQuery"+("3.2.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector"+
Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===d.type(b)},isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){var c=d.type(b);return("number"===c||"string"===c)&&!isNaN(b-parseFloat(b))},isPlainObject:function(b){var c,d;return!(!b||"[object Object]"!==I.call(b))&&(!(c=g(b))||(d=ia.call(c,"constructor")&&c.constructor,"function"==typeof d&&K.call(d)===fa))},isEmptyObject:function(b){for(var c in b)return!1;
return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?Y[I.call(b)]||"object":typeof b},globalEval:function(b){k(b)},camelCase:function(b){return b.replace(za,"ms-").replace(Fa,Ga)},each:function(b,c){var d,a=0;if(l(b))for(d=b.length;a<d&&!1!==c.call(b[a],a,b[a]);a++);else for(a in b)if(!1===c.call(b[a],a,b[a]))break;return b},trim:function(b){return null==b?"":(b+"").replace(ya,"")},makeArray:function(b,c){var m=c||[];return null!=b&&(l(Object(b))?d.merge(m,"string"==
typeof b?[b]:b):n.call(m,b)),m},inArray:function(b,c,d){return null==c?-1:r.call(c,b,d)},merge:function(b,c){for(var d=+c.length,a=0,f=b.length;a<d;a++)b[f++]=c[a];return b.length=f,b},grep:function(b,c,d){for(var a=[],m=0,f=b.length,g=!d;m<f;m++)d=!c(b[m],m),d!==g&&a.push(b[m]);return a},map:function(b,c,d){var a,m,f=0,g=[];if(l(b))for(a=b.length;f<a;f++)m=c(b[f],f,d),null!=m&&g.push(m);else for(f in b)m=c(b[f],f,d),null!=m&&g.push(m);return u.apply([],g)},guid:1,proxy:function(b,c){var m,a,f;if("string"==
typeof c&&(m=b[c],c=b,b=m),d.isFunction(b))return a=h.call(arguments,2),f=function(){return b.apply(c||this,a.concat(h.call(arguments)))},f.guid=b.guid=b.guid||d.guid++,f},now:Date.now,support:R});"function"==typeof Symbol&&(d.fn[Symbol.iterator]=f[Symbol.iterator]);d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(b,c){Y["[object "+c+"]"]=c.toLowerCase()});var oa=function(b){function c(b,c,d,a){var m,f,g,h,x,Z=c&&c.ownerDocument,e=c?c.nodeType:9;if(d=
d||[],"string"!=typeof b||!b||1!==e&&9!==e&&11!==e)return d;if(!a&&((c?c.ownerDocument||c:A)!==t&&O(c),c=c||t,D)){if(11!==e&&(h=Ba.exec(b)))if(m=h[1])if(9===e){if(!(f=c.getElementById(m)))return d;if(f.id===m)return d.push(f),d}else{if(Z&&(f=Z.getElementById(m))&&F(c,f)&&f.id===m)return d.push(f),d}else{if(h[2])return P.apply(d,c.getElementsByTagName(b)),d;if((m=h[3])&&w.getElementsByClassName&&c.getElementsByClassName)return P.apply(d,c.getElementsByClassName(m)),d}if(!(!w.qsa||J[b+" "]||V&&V.test(b))){if(1!==
e)Z=c,x=b;else if("object"!==c.nodeName.toLowerCase()){(g=c.getAttribute("id"))?g=g.replace(ra,va):c.setAttribute("id",g=E);f=qa(b);for(m=f.length;m--;)f[m]="#"+g+" "+I(f[m]);x=f.join(",");Z=la.test(b)&&u(c.parentNode)||c}if(x)try{return P.apply(d,Z.querySelectorAll(x)),d}catch(Db){}finally{g===E&&c.removeAttribute("id")}}}return H(b.replace(oa,"$1"),c,d,a)}function d(){function b(d,a){return c.push(d+" ")>K.cacheLength&&delete b[c.shift()],b[d+" "]=a}var c=[];return b}function a(b){return b[E]=!0,
b}function f(b){var c=t.createElement("fieldset");try{return!!b(c)}catch(Bb){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}}function g(b,c){for(var d=b.split("|"),a=d.length;a--;)K.attrHandle[d[a]]=c}function h(b,c){var d=c&&b,a=d&&1===b.nodeType&&1===c.nodeType&&b.sourceIndex-c.sourceIndex;if(a)return a;if(d)for(;d=d.nextSibling;)if(d===c)return-1;return b?1:-1}function e(b){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===b}}function q(b){return function(c){var d=
c.nodeName.toLowerCase();return("input"===d||"button"===d)&&c.type===b}}function n(b){return function(c){return"form"in c?c.parentNode&&!1===c.disabled?"label"in c?"label"in c.parentNode?c.parentNode.disabled===b:c.disabled===b:c.isDisabled===b||c.isDisabled!==!b&&xa(c)===b:c.disabled===b:"label"in c&&c.disabled===b}}function r(b){return a(function(c){return c=+c,a(function(d,a){for(var m,f=b([],d.length,c),g=f.length;g--;)d[m=f[g]]&&(d[m]=!(a[m]=d[m]))})})}function u(b){return b&&"undefined"!=typeof b.getElementsByTagName&&
b}function k(){}function I(b){for(var c=0,d=b.length,a="";c<d;c++)a+=b[c].value;return a}function z(b,c,d){var a=c.dir,m=c.next,f=m||a,g=d&&"parentNode"===f,h=M++;return c.first?function(c,d,m){for(;c=c[a];)if(1===c.nodeType||g)return b(c,d,m);return!1}:function(c,d,x){var e,Z,B,q=[na,h];if(x)for(;c=c[a];){if((1===c.nodeType||g)&&b(c,d,x))return!0}else for(;c=c[a];)if(1===c.nodeType||g)if(B=c[E]||(c[E]={}),Z=B[c.uniqueID]||(B[c.uniqueID]={}),m&&m===c.nodeName.toLowerCase())c=c[a]||c;else{if((e=Z[f])&&
e[0]===na&&e[1]===h)return q[2]=e[2];if(Z[f]=q,q[2]=b(c,d,x))return!0}return!1}}function R(b){return 1<b.length?function(c,d,a){for(var m=b.length;m--;)if(!b[m](c,d,a))return!1;return!0}:b[0]}function y(b,c,d,a,m){for(var f,g=[],h=0,x=b.length,e=null!=c;h<x;h++)(f=b[h])&&(d&&!d(f,a,m)||(g.push(f),e&&c.push(h)));return g}function ia(b,d,m,f,g,h){return f&&!f[E]&&(f=ia(f)),g&&!g[E]&&(g=ia(g,h)),a(function(a,h,x,e){var Z,B,q=[],n=[],r=h.length,u;if(!(u=a)){u=d||"*";for(var U=x.nodeType?[x]:x,k=[],I=
0,z=U.length;I<z;I++)c(u,U[I],k);u=k}u=!b||!a&&d?u:y(u,q,b,x,e);U=m?g||(a?b:r||f)?[]:h:u;if(m&&m(u,U,x,e),f)for(Z=y(U,n),f(Z,[],x,e),x=Z.length;x--;)(B=Z[x])&&(U[n[x]]=!(u[n[x]]=B));if(a){if(g||b){if(g){Z=[];for(x=U.length;x--;)(B=U[x])&&Z.push(u[x]=B);g(null,U=[],Z,e)}for(x=U.length;x--;)(B=U[x])&&-1<(Z=g?X(a,B):q[x])&&(a[Z]=!(h[Z]=B))}}else U=y(U===h?U.splice(r,U.length):U),g?g(null,h,U,e):P.apply(h,U)})}function Y(b){var c,d,a,m=b.length,f=K.relative[b[0].type];d=f||K.relative[" "];for(var g=f?
1:0,h=z(function(b){return b===c},d,!0),x=z(function(b){return-1<X(c,b)},d,!0),e=[function(b,d,a){b=!f&&(a||d!==za)||((c=d).nodeType?h(b,d,a):x(b,d,a));return c=null,b}];g<m;g++)if(d=K.relative[b[g].type])e=[z(R(e),d)];else{if(d=K.filter[b[g].type].apply(null,b[g].matches),d[E]){for(a=++g;a<m&&!K.relative[b[a].type];a++);return ia(1<g&&R(e),1<g&&I(b.slice(0,g-1).concat({value:" "===b[g-2].type?"*":""})).replace(oa,"$1"),d,g<a&&Y(b.slice(g,a)),a<m&&Y(b=b.slice(a)),a<m&&I(b))}e.push(d)}return R(e)}
function p(b,d){var m=0<d.length,f=0<b.length,g=function(a,g,h,x,e){var B,Z,q,n=0,r="0",u=a&&[],U=[],k=za,I=a||f&&K.find.TAG("*",e),z=na+=null==k?1:Math.random()||.1,db=I.length;for(e&&(za=g===t||g||e);r!==db&&null!=(B=I[r]);r++){if(f&&B){Z=0;for(g||B.ownerDocument===t||(O(B),h=!D);q=b[Z++];)if(q(B,g||t,h)){x.push(B);break}e&&(na=z)}m&&((B=!q&&B)&&n--,a&&u.push(B))}if(n+=r,m&&r!==n){for(Z=0;q=d[Z++];)q(u,U,g,h);if(a){if(0<n)for(;r--;)u[r]||U[r]||(U[r]=N.call(x));U=y(U)}P.apply(x,U);e&&!a&&0<U.length&&
1<n+d.length&&c.uniqueSort(x)}return e&&(na=z,za=k),u};return m?a(g):g}var G,w,K,ya,l,qa,W,H,za,v,fa,O,t,S,D,V,T,pa,F,E="sizzle"+1*new Date,A=b.document,na=0,M=0,L=d(),ka=d(),J=d(),Q=function(b,c){return b===c&&(fa=!0),0},Fa={}.hasOwnProperty,C=[],N=C.pop,ca=C.push,P=C.push,ga=C.slice,X=function(b,c){for(var d=0,a=b.length;d<a;d++)if(b[d]===c)return d;return-1},Aa=RegExp("[\\x20\\t\\r\\n\\f]+","g"),oa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),aa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
Ga=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ua=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),da=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,ea=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ba={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ja=/^(?:input|select|textarea|button)$/i,ma=/^h\d$/i,ha=
/^[^{]+\{\s*\[native \w/,Ba=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,la=/[+~]/,sa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ta=function(b,c,d){b="0x"+c-65536;return b!==b||d?c:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},ra=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,va=function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b},wa=function(){O()},xa=z(function(b){return!0===
b.disabled&&("form"in b||"label"in b)},{dir:"parentNode",next:"legend"});try{P.apply(C=ga.call(A.childNodes),A.childNodes),C[A.childNodes.length].nodeType}catch(Z){P={apply:C.length?function(b,c){ca.apply(b,ga.call(c))}:function(b,c){for(var d=b.length,a=0;b[d++]=c[a++];);b.length=d-1}}}w=c.support={};l=c.isXML=function(b){b=b&&(b.ownerDocument||b).documentElement;return!!b&&"HTML"!==b.nodeName};O=c.setDocument=function(b){var c,d;b=b?b.ownerDocument||b:A;return b!==t&&9===b.nodeType&&b.documentElement?
(t=b,S=t.documentElement,D=!l(t),A!==t&&(d=t.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",wa,!1):d.attachEvent&&d.attachEvent("onunload",wa)),w.attributes=f(function(b){return b.className="i",!b.getAttribute("className")}),w.getElementsByTagName=f(function(b){return b.appendChild(t.createComment("")),!b.getElementsByTagName("*").length}),w.getElementsByClassName=ha.test(t.getElementsByClassName),w.getById=f(function(b){return S.appendChild(b).id=E,!t.getElementsByName||
!t.getElementsByName(E).length}),w.getById?(K.filter.ID=function(b){var c=b.replace(sa,ta);return function(b){return b.getAttribute("id")===c}},K.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&D){var d=c.getElementById(b);return d?[d]:[]}}):(K.filter.ID=function(b){var c=b.replace(sa,ta);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===c}},K.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&D){var d,a,m,f=c.getElementById(b);
if(f){if(d=f.getAttributeNode("id"),d&&d.value===b)return[f];m=c.getElementsByName(b);for(a=0;f=m[a++];)if(d=f.getAttributeNode("id"),d&&d.value===b)return[f]}return[]}}),K.find.TAG=w.getElementsByTagName?function(b,c){return"undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b):w.qsa?c.querySelectorAll(b):void 0}:function(b,c){var d,a=[],m=0,f=c.getElementsByTagName(b);if("*"===b){for(;d=f[m++];)1===d.nodeType&&a.push(d);return a}return f},K.find.CLASS=w.getElementsByClassName&&function(b,
c){if("undefined"!=typeof c.getElementsByClassName&&D)return c.getElementsByClassName(b)},T=[],V=[],(w.qsa=ha.test(t.querySelectorAll))&&(f(function(b){S.appendChild(b).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>";b.querySelectorAll("[msallowcapture^='']").length&&V.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||V.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll("[id~="+E+"-]").length||V.push("~=");b.querySelectorAll(":checked").length||V.push(":checked");b.querySelectorAll("a#"+E+"+*").length||V.push(".#.+[+~]")}),f(function(b){b.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var c=t.createElement("input");c.setAttribute("type","hidden");b.appendChild(c).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&V.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==b.querySelectorAll(":enabled").length&&
V.push(":enabled",":disabled");S.appendChild(b).disabled=!0;2!==b.querySelectorAll(":disabled").length&&V.push(":enabled",":disabled");b.querySelectorAll("*,:x");V.push(",.*:")})),(w.matchesSelector=ha.test(pa=S.matches||S.webkitMatchesSelector||S.mozMatchesSelector||S.oMatchesSelector||S.msMatchesSelector))&&f(function(b){w.disconnectedMatch=pa.call(b,"*");pa.call(b,"[s!='']:x");T.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
V=V.length&&new RegExp(V.join("|")),T=T.length&&new RegExp(T.join("|")),c=ha.test(S.compareDocumentPosition),F=c||ha.test(S.contains)?function(b,c){var d=9===b.nodeType?b.documentElement:b,a=c&&c.parentNode;return b===a||!(!a||1!==a.nodeType||!(d.contains?d.contains(a):b.compareDocumentPosition&&16&b.compareDocumentPosition(a)))}:function(b,c){if(c)for(;c=c.parentNode;)if(c===b)return!0;return!1},Q=c?function(b,c){if(b===c)return fa=!0,0;var d=!b.compareDocumentPosition-!c.compareDocumentPosition;
return d?d:(d=(b.ownerDocument||b)===(c.ownerDocument||c)?b.compareDocumentPosition(c):1,1&d||!w.sortDetached&&c.compareDocumentPosition(b)===d?b===t||b.ownerDocument===A&&F(A,b)?-1:c===t||c.ownerDocument===A&&F(A,c)?1:v?X(v,b)-X(v,c):0:4&d?-1:1)}:function(b,c){if(b===c)return fa=!0,0;var d,a=0;d=b.parentNode;var m=c.parentNode,f=[b],g=[c];if(!d||!m)return b===t?-1:c===t?1:d?-1:m?1:v?X(v,b)-X(v,c):0;if(d===m)return h(b,c);for(d=b;d=d.parentNode;)f.unshift(d);for(d=c;d=d.parentNode;)g.unshift(d);for(;f[a]===
g[a];)a++;return a?h(f[a],g[a]):f[a]===A?-1:g[a]===A?1:0},t):t};c.matches=function(b,d){return c(b,null,null,d)};c.matchesSelector=function(b,d){if((b.ownerDocument||b)!==t&&O(b),d=d.replace(ua,"='$1']"),!(!w.matchesSelector||!D||J[d+" "]||T&&T.test(d)||V&&V.test(d)))try{var a=pa.call(b,d);if(a||w.disconnectedMatch||b.document&&11!==b.document.nodeType)return a}catch(Cb){}return 0<c(d,t,null,[b]).length};c.contains=function(b,c){return(b.ownerDocument||b)!==t&&O(b),F(b,c)};c.attr=function(b,c){(b.ownerDocument||
b)!==t&&O(b);var d=K.attrHandle[c.toLowerCase()],d=d&&Fa.call(K.attrHandle,c.toLowerCase())?d(b,c,!D):void 0;return void 0!==d?d:w.attributes||!D?b.getAttribute(c):(d=b.getAttributeNode(c))&&d.specified?d.value:null};c.escape=function(b){return(b+"").replace(ra,va)};c.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};c.uniqueSort=function(b){var c,d=[],a=0,m=0;if(fa=!w.detectDuplicates,v=!w.sortStable&&b.slice(0),b.sort(Q),fa){for(;c=b[m++];)c===b[m]&&(a=d.push(m));for(;a--;)b.splice(d[a],
1)}return v=null,b};ya=c.getText=function(b){var c,d="",a=0;if(c=b.nodeType)if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=ya(b)}else{if(3===c||4===c)return b.nodeValue}else for(;c=b[a++];)d+=ya(c);return d};K=c.selectors={cacheLength:50,createPseudo:a,match:ba,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=
b[1].replace(sa,ta),b[3]=(b[3]||b[4]||b[5]||"").replace(sa,ta),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||c.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&c.error(b[0]),b},PSEUDO:function(b){var c,d=!b[6]&&b[2];return ba.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":d&&da.test(d)&&(c=qa(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(b[0]=b[0].slice(0,
c),b[2]=d.slice(0,c)),b.slice(0,3))}},filter:{TAG:function(b){var c=b.replace(sa,ta).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===c}},CLASS:function(b){var c=L[b+" "];return c||(c=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),L(b,function(b){return c.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||"")}))},ATTR:function(b,d,a){return function(m){m=c.attr(m,
b);return null==m?"!="===d:!d||(m+="","="===d?m===a:"!="===d?m!==a:"^="===d?a&&0===m.indexOf(a):"*="===d?a&&-1<m.indexOf(a):"$="===d?a&&m.slice(-a.length)===a:"~="===d?-1<(" "+m.replace(Aa," ")+" ").indexOf(a):"|="===d&&(m===a||m.slice(0,a.length+1)===a+"-"))}},CHILD:function(b,c,d,a,m){var f="nth"!==b.slice(0,3),g="last"!==b.slice(-4),h="of-type"===c;return 1===a&&0===m?function(b){return!!b.parentNode}:function(c,d,x){var e,B,q,n,r,U;d=f!==g?"nextSibling":"previousSibling";var u=c.parentNode,k=
h&&c.nodeName.toLowerCase();x=!x&&!h;var I=!1;if(u){if(f){for(;d;){for(n=c;n=n[d];)if(h?n.nodeName.toLowerCase()===k:1===n.nodeType)return!1;U=d="only"===b&&!U&&"nextSibling"}return!0}if(U=[g?u.firstChild:u.lastChild],g&&x)for(n=u,q=n[E]||(n[E]={}),B=q[n.uniqueID]||(q[n.uniqueID]={}),e=B[b]||[],I=(r=e[0]===na&&e[1])&&e[2],n=r&&u.childNodes[r];n=++r&&n&&n[d]||(I=r=0)||U.pop();){if(1===n.nodeType&&++I&&n===c){B[b]=[na,r,I];break}}else if(x&&(n=c,q=n[E]||(n[E]={}),B=q[n.uniqueID]||(q[n.uniqueID]={}),
e=B[b]||[],r=e[0]===na&&e[1],I=r),!1===I)for(;(n=++r&&n&&n[d]||(I=r=0)||U.pop())&&((h?n.nodeName.toLowerCase()!==k:1!==n.nodeType)||!++I||(x&&(q=n[E]||(n[E]={}),B=q[n.uniqueID]||(q[n.uniqueID]={}),B[b]=[na,I]),n!==c)););return I-=m,I===a||0===I%a&&0<=I/a}}},PSEUDO:function(b,d){var m,f=K.pseudos[b]||K.setFilters[b.toLowerCase()]||c.error("unsupported pseudo: "+b);return f[E]?f(d):1<f.length?(m=[b,b,"",d],K.setFilters.hasOwnProperty(b.toLowerCase())?a(function(b,c){for(var a,m=f(b,d),g=m.length;g--;)a=
X(b,m[g]),b[a]=!(c[a]=m[g])}):function(b){return f(b,0,m)}):f}},pseudos:{not:a(function(b){var c=[],d=[],m=W(b.replace(oa,"$1"));return m[E]?a(function(b,c,d,a){var f;d=m(b,null,a,[]);for(a=b.length;a--;)(f=d[a])&&(b[a]=!(c[a]=f))}):function(b,a,f){return c[0]=b,m(c,null,f,d),c[0]=null,!d.pop()}}),has:a(function(b){return function(d){return 0<c(b,d).length}}),contains:a(function(b){return b=b.replace(sa,ta),function(c){return-1<(c.textContent||c.innerText||ya(c)).indexOf(b)}}),lang:a(function(b){return ea.test(b||
"")||c.error("unsupported lang: "+b),b=b.replace(sa,ta).toLowerCase(),function(c){var d;do if(d=D?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return d=d.toLowerCase(),d===b||0===d.indexOf(b+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(c){var d=b.location&&b.location.hash;return d&&d.slice(1)===c.id},root:function(b){return b===S},focus:function(b){return b===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:n(!1),disabled:n(!0),
checked:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&!!b.checked||"option"===c&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!K.pseudos.empty(b)},header:function(b){return ma.test(b.nodeName)},input:function(b){return ja.test(b.nodeName)},button:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&"button"===
b.type||"button"===c},text:function(b){var c;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(c=b.getAttribute("type"))||"text"===c.toLowerCase())},first:r(function(){return[0]}),last:r(function(b,c){return[c-1]}),eq:r(function(b,c,d){return[0>d?d+c:d]}),even:r(function(b,c){for(var d=0;d<c;d+=2)b.push(d);return b}),odd:r(function(b,c){for(var d=1;d<c;d+=2)b.push(d);return b}),lt:r(function(b,c,d){for(c=0>d?d+c:d;0<=--c;)b.push(c);return b}),gt:r(function(b,c,d){for(d=0>d?d+c:d;++d<
c;)b.push(d);return b})}};K.pseudos.nth=K.pseudos.eq;for(G in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})K.pseudos[G]=e(G);for(G in{submit:!0,reset:!0})K.pseudos[G]=q(G);k.prototype=K.filters=K.pseudos;K.setFilters=new k;qa=c.tokenize=function(b,d){var a,m,f,g,h,x,e;if(h=ka[b+" "])return d?0:h.slice(0);h=b;x=[];for(e=K.preFilter;h;){a&&!(m=aa.exec(h))||(m&&(h=h.slice(m[0].length)||h),x.push(f=[]));a=!1;(m=Ga.exec(h))&&(a=m.shift(),f.push({value:a,type:m[0].replace(oa," ")}),h=h.slice(a.length));
for(g in K.filter)!(m=ba[g].exec(h))||e[g]&&!(m=e[g](m))||(a=m.shift(),f.push({value:a,type:g,matches:m}),h=h.slice(a.length));if(!a)break}return d?h.length:h?c.error(b):ka(b,x).slice(0)};return W=c.compile=function(b,c){var d,a=[],m=[],f=J[b+" "];if(!f){c||(c=qa(b));for(d=c.length;d--;)f=Y(c[d]),f[E]?a.push(f):m.push(f);f=J(b,p(m,a));f.selector=b}return f},H=c.select=function(b,c,d,a){var m,f,g,h,x,e="function"==typeof b&&b,B=!a&&qa(b=e.selector||b);if(d=d||[],1===B.length){if(f=B[0]=B[0].slice(0),
2<f.length&&"ID"===(g=f[0]).type&&9===c.nodeType&&D&&K.relative[f[1].type]){if(c=(K.find.ID(g.matches[0].replace(sa,ta),c)||[])[0],!c)return d;e&&(c=c.parentNode);b=b.slice(f.shift().value.length)}for(m=ba.needsContext.test(b)?0:f.length;m--&&(g=f[m],!K.relative[h=g.type]);)if((x=K.find[h])&&(a=x(g.matches[0].replace(sa,ta),la.test(f[0].type)&&u(c.parentNode)||c))){if(f.splice(m,1),b=a.length&&I(f),!b)return P.apply(d,a),d;break}}return(e||W(b,B))(a,c,!D,d,!c||la.test(b)&&u(c.parentNode)||c),d},w.sortStable=
E.split("").sort(Q).join("")===E,w.detectDuplicates=!!fa,O(),w.sortDetached=f(function(b){return 1&b.compareDocumentPosition(t.createElement("fieldset"))}),f(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||g("type|href|height|width",function(b,c,d){if(!d)return b.getAttribute(c,"type"===c.toLowerCase()?1:2)}),w.attributes&&f(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||g("value",
function(b,c,d){if(!d&&"input"===b.nodeName.toLowerCase())return b.defaultValue}),f(function(b){return null==b.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,c,d){var a;if(!d)return!0===b[c]?c.toLowerCase():(a=b.getAttributeNode(c))&&a.specified?a.value:null}),c}(e);d.find=oa;d.expr=oa.selectors;d.expr[":"]=d.expr.pseudos;d.uniqueSort=d.unique=oa.uniqueSort;d.text=oa.getText;d.isXMLDoc=
oa.isXML;d.contains=oa.contains;d.escapeSelector=oa.escape;var ua=function(b,c,a){for(var m=[],f=void 0!==a;(b=b[c])&&9!==b.nodeType;)if(1===b.nodeType){if(f&&d(b).is(a))break;m.push(b)}return m},Aa=function(b,c){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==c&&d.push(b);return d},Ba=d.expr.match.needsContext,Qa=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ab=/^.[^:#\[\.,]*$/;d.filter=function(b,c,a){var m=c[0];return a&&(b=":not("+b+")"),1===c.length&&1===m.nodeType?d.find.matchesSelector(m,
b)?[m]:[]:d.find.matches(b,d.grep(c,function(b){return 1===b.nodeType}))};d.fn.extend({find:function(b){var c,a,f=this.length,g=this;if("string"!=typeof b)return this.pushStack(d(b).filter(function(){for(c=0;c<f;c++)if(d.contains(g[c],this))return!0}));a=this.pushStack([]);for(c=0;c<f;c++)d.find(b,g[c],a);return 1<f?d.uniqueSort(a):a},filter:function(b){return this.pushStack(da(this,b||[],!1))},not:function(b){return this.pushStack(da(this,b||[],!0))},is:function(b){return!!da(this,"string"==typeof b&&
Ba.test(b)?d(b):b||[],!1).length}});var Ra,kb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(d.fn.init=function(b,c,a){var m,f;if(!b)return this;if(a=a||Ra,"string"==typeof b){if(m="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:kb.exec(b),!m||!m[1]&&c)return!c||c.jquery?(c||a).find(b):this.constructor(c).find(b);if(m[1]){if(c=c instanceof d?c[0]:c,d.merge(this,d.parseHTML(m[1],c&&c.nodeType?c.ownerDocument||c:q,!0)),Qa.test(m[1])&&d.isPlainObject(c))for(m in c)d.isFunction(this[m])?this[m](c[m]):
this.attr(m,c[m]);return this}return f=q.getElementById(m[2]),f&&(this[0]=f,this.length=1),this}return b.nodeType?(this[0]=b,this.length=1,this):d.isFunction(b)?void 0!==a.ready?a.ready(b):b(d):d.makeArray(b,this)}).prototype=d.fn;Ra=d(q);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(b){var c=d(b,this),a=c.length;return this.filter(function(){for(var b=0;b<a;b++)if(d.contains(this,c[b]))return!0})},closest:function(b,c){var a,f=0,g=
this.length,h=[],e="string"!=typeof b&&d(b);if(!Ba.test(b))for(;f<g;f++)for(a=this[f];a&&a!==c;a=a.parentNode)if(11>a.nodeType&&(e?-1<e.index(a):1===a.nodeType&&d.find.matchesSelector(a,b))){h.push(a);break}return this.pushStack(1<h.length?d.uniqueSort(h):h)},index:function(b){return b?"string"==typeof b?r.call(d(b),this[0]):r.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,c){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(b,c))))},
addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});d.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return ua(b,"parentNode")},parentsUntil:function(b,c,d){return ua(b,"parentNode",d)},next:function(b){return D(b,"nextSibling")},prev:function(b){return D(b,"previousSibling")},nextAll:function(b){return ua(b,"nextSibling")},prevAll:function(b){return ua(b,"previousSibling")},nextUntil:function(b,c,d){return ua(b,"nextSibling",
d)},prevUntil:function(b,c,d){return ua(b,"previousSibling",d)},siblings:function(b){return Aa((b.parentNode||{}).firstChild,b)},children:function(b){return Aa(b.firstChild)},contents:function(b){return C(b,"iframe")?b.contentDocument:(C(b,"template")&&(b=b.content||b),d.merge([],b.childNodes))}},function(b,c){d.fn[b]=function(a,f){var m=d.map(this,c,a);return"Until"!==b.slice(-5)&&(f=a),f&&"string"==typeof f&&(m=d.filter(f,m)),1<this.length&&(mb[b]||d.uniqueSort(m),lb.test(b)&&m.reverse()),this.pushStack(m)}});
var ha=/[^\x20\t\r\n\f]+/g;d.Callbacks=function(b){b="string"==typeof b?ma(b):d.extend({},b);var c,a,f,g,h=[],e=[],n=-1,q=function(){g=g||b.once;for(f=c=!0;e.length;n=-1)for(a=e.shift();++n<h.length;)!1===h[n].apply(a[0],a[1])&&b.stopOnFalse&&(n=h.length,a=!1);b.memory||(a=!1);c=!1;g&&(h=a?[]:"")},r={add:function(){return h&&(a&&!c&&(n=h.length-1,e.push(a)),function eb(c){d.each(c,function(c,a){d.isFunction(a)?b.unique&&r.has(a)||h.push(a):a&&a.length&&"string"!==d.type(a)&&eb(a)})}(arguments),a&&
!c&&q()),this},remove:function(){return d.each(arguments,function(b,c){for(var a;-1<(a=d.inArray(c,h,a));)h.splice(a,1),a<=n&&n--}),this},has:function(b){return b?-1<d.inArray(b,h):0<h.length},empty:function(){return h&&(h=[]),this},disable:function(){return g=e=[],h=a="",this},disabled:function(){return!h},lock:function(){return g=e=[],a||c||(h=a=""),this},locked:function(){return!!g},fireWith:function(b,d){return g||(d=d||[],d=[b,d.slice?d.slice():d],e.push(d),c||q()),this},fire:function(){return r.fireWith(this,
arguments),this},fired:function(){return!!f}};return r};d.extend({Deferred:function(b){var c=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],a="pending",f={state:function(){return a},always:function(){return g.done(arguments).fail(arguments),this},"catch":function(b){return f.then(null,b)},pipe:function(){var b=
arguments;return d.Deferred(function(a){d.each(c,function(c,m){var f=d.isFunction(b[m[4]])&&b[m[4]];g[m[1]](function(){var b=f&&f.apply(this,arguments);b&&d.isFunction(b.promise)?b.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[m[0]+"With"](this,f?[b]:arguments)})});b=null}).promise()},then:function(b,a,m){function f(b,c,a,m){return function(){var h=this,x=arguments,n=function(){var e,n;if(!(b<g)){if(e=a.apply(h,x),e===c.promise())throw new TypeError("Thenable self-resolution");n=e&&
("object"==typeof e||"function"==typeof e)&&e.then;d.isFunction(n)?m?n.call(e,f(g,c,A,m),f(g,c,p,m)):(g++,n.call(e,f(g,c,A,m),f(g,c,p,m),f(g,c,A,c.notifyWith))):(a!==A&&(h=void 0,x=[e]),(m||c.resolveWith)(h,x))}},q=m?n:function(){try{n()}catch(Pa){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Pa,q.stackTrace),b+1>=g&&(a!==p&&(h=void 0,x=[Pa]),c.rejectWith(h,x))}};b?q():(d.Deferred.getStackHook&&(q.stackTrace=d.Deferred.getStackHook()),e.setTimeout(q))}}var g=0;return d.Deferred(function(g){c[0][3].add(f(0,
g,d.isFunction(m)?m:A,g.notifyWith));c[1][3].add(f(0,g,d.isFunction(b)?b:A));c[2][3].add(f(0,g,d.isFunction(a)?a:p))}).promise()},promise:function(b){return null!=b?d.extend(b,f):f}},g={};return d.each(c,function(b,d){var m=d[2],h=d[5];f[d[1]]=m.add;h&&m.add(function(){a=h},c[3-b][2].disable,c[0][2].lock);m.add(d[3].fire);g[d[0]]=function(){return g[d[0]+"With"](this===g?void 0:this,arguments),this};g[d[0]+"With"]=m.fireWith}),f.promise(g),b&&b.call(g,g),g},when:function(b){var c=arguments.length,
a=c,f=Array(a),g=h.call(arguments),e=d.Deferred(),n=function(b){return function(d){f[b]=this;g[b]=1<arguments.length?h.call(arguments):d;--c||e.resolveWith(f,g)}};if(1>=c&&(F(b,e.done(n(a)).resolve,e.reject,!c),"pending"===e.state()||d.isFunction(g[a]&&g[a].then)))return e.then();for(;a--;)F(g[a],n(a),e.reject);return e.promise()}});var nb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(b,c){e.console&&e.console.warn&&b&&nb.test(b.name)&&e.console.warn("jQuery.Deferred exception: "+
b.message,b.stack,c)};d.readyException=function(b){e.setTimeout(function(){throw b;})};var Ha=d.Deferred();d.fn.ready=function(b){return Ha.then(b)["catch"](function(b){d.readyException(b)}),this};d.extend({isReady:!1,readyWait:1,ready:function(b){(!0===b?--d.readyWait:d.isReady)||(d.isReady=!0,!0!==b&&0<--d.readyWait||Ha.resolveWith(q,[d]))}});d.ready.then=Ha.then;"complete"===q.readyState||"loading"!==q.readyState&&!q.documentElement.doScroll?e.setTimeout(d.ready):(q.addEventListener("DOMContentLoaded",
v),e.addEventListener("load",v));var la=function(b,c,a,f,g,h,e){var m=0,x=b.length,n=null==a;if("object"===d.type(a))for(m in g=!0,a)la(b,c,m,a[m],!0,h,e);else if(void 0!==f&&(g=!0,d.isFunction(f)||(e=!0),n&&(e?(c.call(b,f),c=null):(n=c,c=function(b,c,a){return n.call(d(b),a)})),c))for(;m<x;m++)c(b[m],a,e?f:f.call(b[m],m,c(b[m],a)));return g?b:n?c.call(b):x?c(b[0],a):h},Ca=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};N.uid=1;N.prototype={cache:function(b){var c=b[this.expando];
return c||(c={},Ca(b)&&(b.nodeType?b[this.expando]=c:Object.defineProperty(b,this.expando,{value:c,configurable:!0}))),c},set:function(b,c,a){var m;b=this.cache(b);if("string"==typeof c)b[d.camelCase(c)]=a;else for(m in c)b[d.camelCase(m)]=c[m];return b},get:function(b,c){return void 0===c?this.cache(b):b[this.expando]&&b[this.expando][d.camelCase(c)]},access:function(b,c,d){return void 0===c||c&&"string"==typeof c&&void 0===d?this.get(b,c):(this.set(b,c,d),void 0!==d?d:c)},remove:function(b,c){var a,
f=b[this.expando];if(void 0!==f){if(void 0!==c)for(Array.isArray(c)?c=c.map(d.camelCase):(c=d.camelCase(c),c=c in f?[c]:c.match(ha)||[]),a=c.length;a--;)delete f[c[a]];(void 0===c||d.isEmptyObject(f))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){b=b[this.expando];return void 0!==b&&!d.isEmptyObject(b)}};var P=new N,ba=new N,cb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bb=/[A-Z]/g;d.extend({hasData:function(b){return ba.hasData(b)||P.hasData(b)},data:function(b,c,d){return ba.access(b,
c,d)},removeData:function(b,c){ba.remove(b,c)},_data:function(b,c,d){return P.access(b,c,d)},_removeData:function(b,c){P.remove(b,c)}});d.fn.extend({data:function(b,c){var a,f,g,h=this[0],e=h&&h.attributes;if(void 0===b){if(this.length&&(g=ba.get(h),1===h.nodeType&&!P.get(h,"hasDataAttrs"))){for(a=e.length;a--;)e[a]&&(f=e[a].name,0===f.indexOf("data-")&&(f=d.camelCase(f.slice(5)),J(h,f,g[f])));P.set(h,"hasDataAttrs",!0)}return g}return"object"==typeof b?this.each(function(){ba.set(this,b)}):la(this,
function(c){var d;if(h&&void 0===c){if((d=ba.get(h,b),void 0!==d)||(d=J(h,b),void 0!==d))return d}else this.each(function(){ba.set(this,b,c)})},null,c,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){ba.remove(this,b)})}});d.extend({queue:function(b,c,a){var f;if(b)return c=(c||"fx")+"queue",f=P.get(b,c),a&&(!f||Array.isArray(a)?f=P.access(b,c,d.makeArray(a)):f.push(a)),f||[]},dequeue:function(b,c){c=c||"fx";var a=d.queue(b,c),f=a.length,g=a.shift(),h=d._queueHooks(b,
c),e=function(){d.dequeue(b,c)};"inprogress"===g&&(g=a.shift(),f--);g&&("fx"===c&&a.unshift("inprogress"),delete h.stop,g.call(b,e,h));!f&&h&&h.empty.fire()},_queueHooks:function(b,c){var a=c+"queueHooks";return P.get(b,a)||P.access(b,a,{empty:d.Callbacks("once memory").add(function(){P.remove(b,[c+"queue",a])})})}});d.fn.extend({queue:function(b,c){var a=2;return"string"!=typeof b&&(c=b,b="fx",a--),arguments.length<a?d.queue(this[0],b):void 0===c?this:this.each(function(){var a=d.queue(this,b,c);
d._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,c){var a,f=1,g=d.Deferred(),h=this,e=this.length,n=function(){--f||g.resolveWith(h,[h])};"string"!=typeof b&&(c=b,b=void 0);for(b=b||"fx";e--;)(a=P.get(h[e],b+"queueHooks"))&&a.empty&&(f++,a.empty.add(n));return n(),g.promise(c)}});var Sa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=
new RegExp("^(?:([+-])=|)("+Sa+")([a-z%]*)$","i"),ra=["Top","Right","Bottom","Left"],Ia=function(b,c){return b=c||b,"none"===b.style.display||""===b.style.display&&d.contains(b.ownerDocument,b)&&"none"===d.css(b,"display")},Ta=function(b,c,d,a){var f,m={};for(f in c)m[f]=b.style[f],b.style[f]=c[f];d=d.apply(b,a||[]);for(f in c)b.style[f]=m[f];return d},Ja={};d.fn.extend({show:function(){return ea(this,!0)},hide:function(){return ea(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():
this.hide():this.each(function(){Ia(this)?d(this).show():d(this).hide()})}});var Ua=/^(?:checkbox|radio)$/i,Ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,La=/^$|\/(?:java|ecma)script/i,ja={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;
ja.th=ja.td;var fb=/<|&#?\w+;/;!function(){var b=q.createDocumentFragment().appendChild(q.createElement("div")),c=q.createElement("input");c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");b.appendChild(c);R.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;b.innerHTML="<textarea>x</textarea>";R.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Da=q.documentElement,ob=/^key/,pb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Va=/^([^.]*)(?:\.(.+)|)/;
d.event={global:{},add:function(b,c,a,f,g){var m,h,e,n,x,q,r,u,B,k;if(x=P.get(b))for(a.handler&&(m=a,a=m.handler,g=m.selector),g&&d.find.matchesSelector(Da,g),a.guid||(a.guid=d.guid++),(n=x.events)||(n=x.events={}),(h=x.handle)||(h=x.handle=function(c){return"undefined"!=typeof d&&d.event.triggered!==c.type?d.event.dispatch.apply(b,arguments):void 0}),c=(c||"").match(ha)||[""],x=c.length;x--;)e=Va.exec(c[x])||[],B=k=e[1],e=(e[2]||"").split(".").sort(),B&&(r=d.event.special[B]||{},B=(g?r.delegateType:
r.bindType)||B,r=d.event.special[B]||{},q=d.extend({type:B,origType:k,data:f,handler:a,guid:a.guid,selector:g,needsContext:g&&d.expr.match.needsContext.test(g),namespace:e.join(".")},m),(u=n[B])||(u=n[B]=[],u.delegateCount=0,r.setup&&!1!==r.setup.call(b,f,e,h)||b.addEventListener&&b.addEventListener(B,h)),r.add&&(r.add.call(b,q),q.handler.guid||(q.handler.guid=a.guid)),g?u.splice(u.delegateCount++,0,q):u.push(q),d.event.global[B]=!0)},remove:function(b,c,a,f,g){var m,h,e,n,x,q,r,u,B,k,I,z=P.hasData(b)&&
P.get(b);if(z&&(n=z.events)){c=(c||"").match(ha)||[""];for(x=c.length;x--;)if(e=Va.exec(c[x])||[],B=I=e[1],k=(e[2]||"").split(".").sort(),B){r=d.event.special[B]||{};B=(f?r.delegateType:r.bindType)||B;u=n[B]||[];e=e[2]&&new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=m=u.length;m--;)q=u[m],!g&&I!==q.origType||a&&a.guid!==q.guid||e&&!e.test(q.namespace)||f&&f!==q.selector&&("**"!==f||!q.selector)||(u.splice(m,1),q.selector&&u.delegateCount--,r.remove&&r.remove.call(b,q));h&&!u.length&&
(r.teardown&&!1!==r.teardown.call(b,k,z.handle)||d.removeEvent(b,B,z.handle),delete n[B])}else for(B in n)d.event.remove(b,B+c[x],a,f,!0);d.isEmptyObject(n)&&P.remove(b,"handle events")}},dispatch:function(b){var c=d.event.fix(b),a,f,g,h,e,n,q=Array(arguments.length);f=(P.get(this,"events")||{})[c.type]||[];var r=d.event.special[c.type]||{};q[0]=c;for(a=1;a<arguments.length;a++)q[a]=arguments[a];if(c.delegateTarget=this,!r.preDispatch||!1!==r.preDispatch.call(this,c)){n=d.event.handlers.call(this,
c,f);for(a=0;(h=n[a++])&&!c.isPropagationStopped();)for(c.currentTarget=h.elem,f=0;(e=h.handlers[f++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(e.namespace)||(c.handleObj=e,c.data=e.data,g=((d.event.special[e.origType]||{}).handle||e.handler).apply(h.elem,q),void 0!==g&&!1===(c.result=g)&&(c.preventDefault(),c.stopPropagation()));return r.postDispatch&&r.postDispatch.call(this,c),c.result}},handlers:function(b,c){var a,f,g,h,e,n=[],q=c.delegateCount,r=b.target;if(q&&r.nodeType&&
!("click"===b.type&&1<=b.button))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==b.type||!0!==r.disabled)){h=[];e={};for(a=0;a<q;a++)f=c[a],g=f.selector+" ",void 0===e[g]&&(e[g]=f.needsContext?-1<d(g,this).index(r):d.find(g,this,null,[r]).length),e[g]&&h.push(f);h.length&&n.push({elem:r,handlers:h})}return r=this,q<c.length&&n.push({elem:r,handlers:c.slice(q)}),n},addProp:function(b,c){Object.defineProperty(d.Event.prototype,b,{enumerable:!0,configurable:!0,get:d.isFunction(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:
function(){if(this.originalEvent)return this.originalEvent[b]},set:function(c){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(b){return b[d.expando]?b:new d.Event(b)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==t()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===t()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&
C(this,"input"))return this.click(),!1},_default:function(b){return C(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};d.removeEvent=function(b,c,d){b.removeEventListener&&b.removeEventListener(c,d)};d.Event=function(b,c){return this instanceof d.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?E:O,this.target=b.target&&
3===b.target.nodeType?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,c&&d.extend(this,c),this.timeStamp=b&&b.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(b,c)};d.Event.prototype={constructor:d.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=E;b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=
this.originalEvent;this.isPropagationStopped=E;b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=E;b&&!this.isSimulated&&b.stopImmediatePropagation();this.stopPropagation()}};d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,
offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(b){var c=b.button;return null==b.which&&ob.test(b.type)?null!=b.charCode?b.charCode:b.keyCode:!b.which&&void 0!==c&&pb.test(b.type)?1&c?1:2&c?3:4&c?2:0:b.which}},d.event.addProp);d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,c){d.event.special[b]={delegateType:c,bindType:c,handle:function(b){var a,f=b.relatedTarget,
g=b.handleObj;return f&&(f===this||d.contains(this,f))||(b.type=g.origType,a=g.handler.apply(this,arguments),b.type=c),a}}});d.fn.extend({on:function(b,c,d,a){return pa(this,b,c,d,a)},one:function(b,c,d,a){return pa(this,b,c,d,a,1)},off:function(b,c,a){var f,g;if(b&&b.preventDefault&&b.handleObj)return f=b.handleObj,d(b.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof b){for(g in b)this.off(g,c,b[g]);return this}return!1!==c&&"function"!=
typeof c||(a=c,c=void 0),!1===a&&(a=O),this.each(function(){d.event.remove(this,b,a,c)})}});var qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,rb=/<script|<style|<link/i,hb=/checked\s*(?:[^=]|=\s*.checked.)/i,gb=/^true\/(.*)/,ib=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;d.extend({htmlPrefilter:function(b){return b.replace(qb,"<$1></$2>")},clone:function(b,c,a){var f,g,m,h,e=b.cloneNode(!0),n=d.contains(b.ownerDocument,b);if(!(R.noCloneChecked||1!==
b.nodeType&&11!==b.nodeType||d.isXMLDoc(b)))for(h=y(e),m=y(b),f=0,g=m.length;f<g;f++){var q=m[f],r=h[f],u=r.nodeName.toLowerCase();"input"===u&&Ua.test(q.type)?r.checked=q.checked:"input"!==u&&"textarea"!==u||(r.defaultValue=q.defaultValue)}if(c)if(a)for(m=m||y(b),h=h||y(e),f=0,g=m.length;f<g;f++)qa(m[f],h[f]);else qa(b,e);return h=y(e,"script"),0<h.length&&H(h,!n&&y(b,"script")),e},cleanData:function(b){for(var c,a,f,g=d.event.special,h=0;void 0!==(a=b[h]);h++)if(Ca(a)){if(c=a[P.expando]){if(c.events)for(f in c.events)g[f]?
d.event.remove(a,f):d.removeEvent(a,f,c.handle);a[P.expando]=void 0}a[ba.expando]&&(a[ba.expando]=void 0)}}});d.fn.extend({detach:function(b){return na(this,b,!0)},remove:function(b){return na(this,b)},text:function(b){return la(this,function(b){return void 0===b?d.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=b)})},null,b,arguments.length)},append:function(){return V(this,arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||W(this,b).appendChild(b)})},prepend:function(){return V(this,arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=W(this,b);c.insertBefore(b,c.firstChild)}})},before:function(){return V(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return V(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,c=0;null!=(b=this[c]);c++)1===
b.nodeType&&(d.cleanData(y(b,!1)),b.textContent="");return this},clone:function(b,c){return b=null!=b&&b,c=null==c?b:c,this.map(function(){return d.clone(this,b,c)})},html:function(b){return la(this,function(b){var c=this[0]||{},a=0,f=this.length;if(void 0===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof b&&!rb.test(b)&&!ja[(Ka.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;a<f;a++)c=this[a]||{},1===c.nodeType&&(d.cleanData(y(c,!1)),c.innerHTML=b);c=0}catch(U){}}c&&this.empty().append(b)},
null,b,arguments.length)},replaceWith:function(){var b=[];return V(this,arguments,function(c){var a=this.parentNode;0>d.inArray(this,b)&&(d.cleanData(y(this)),a&&a.replaceChild(c,this))},b)}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){d.fn[b]=function(b){for(var a=[],f=d(b),g=f.length-1,m=0;m<=g;m++)b=m===g?this:this.clone(!0),d(f[m])[c](b),n.apply(a,b.get());return this.pushStack(a)}});var Ma=/^margin/,Ea=new RegExp("^("+
Sa+")(?!px)[a-z%]+$","i"),xa=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=e),c.getComputedStyle(b)};!function(){function b(){if(n){n.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";n.innerHTML="";Da.appendChild(h);var b=e.getComputedStyle(n);c="1%"!==b.top;g="2px"===b.marginLeft;a="4px"===b.width;n.style.marginRight="50%";f="4px"===b.marginRight;Da.removeChild(h);n=null}}var c,a,f,g,h=q.createElement("div"),
n=q.createElement("div");n.style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle="content-box"===n.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(n),d.extend(R,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),a},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();var sb=/^(none|table(?!-c[ea]).+)/,
Wa=/^--/,tb={position:"absolute",visibility:"hidden",display:"block"},Xa={letterSpacing:"0",fontWeight:"400"},Oa=["Webkit","Moz","ms"],Na=q.createElement("div").style;d.extend({cssHooks:{opacity:{get:function(b,c){if(c){var d=T(b,"opacity");return""===d?"1":d}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,c,a,f){if(b&&
3!==b.nodeType&&8!==b.nodeType&&b.style){var g,h,m,e=d.camelCase(c),n=Wa.test(c),q=b.style;return n||(c=ca(e)),m=d.cssHooks[c]||d.cssHooks[e],void 0===a?m&&"get"in m&&void 0!==(g=m.get(b,!1,f))?g:q[c]:(h=typeof a,"string"===h&&(g=wa.exec(a))&&g[1]&&(a=L(b,c,g),h="number"),null!=a&&a===a&&("number"===h&&(a+=g&&g[3]||(d.cssNumber[e]?"":"px")),R.clearCloneStyle||""!==a||0!==c.indexOf("background")||(q[c]="inherit"),m&&"set"in m&&void 0===(a=m.set(b,a,f))||(n?q.setProperty(c,a):q[c]=a)),void 0)}},css:function(b,
c,a,f){var g,h,m,e=d.camelCase(c);return Wa.test(c)||(c=ca(e)),m=d.cssHooks[c]||d.cssHooks[e],m&&"get"in m&&(g=m.get(b,!0,a)),void 0===g&&(g=T(b,c,f)),"normal"===g&&c in Xa&&(g=Xa[c]),""===a||a?(h=parseFloat(g),!0===a||isFinite(h)?h||0:g):g}});d.each(["height","width"],function(b,c){d.cssHooks[c]={get:function(b,a,f){if(a)return!sb.test(d.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?aa(b,c,f):Ta(b,tb,function(){return aa(b,c,f)})},set:function(b,a,f){var g,h=f&&xa(b);
f=f&&X(b,c,f,"border-box"===d.css(b,"boxSizing",!1,h),h);return f&&(g=wa.exec(a))&&"px"!==(g[3]||"px")&&(b.style[c]=a,a=d.css(b,c)),ga(b,a,f)}}});d.cssHooks.marginLeft=ka(R.reliableMarginLeft,function(b,c){if(c)return(parseFloat(T(b,"marginLeft"))||b.getBoundingClientRect().left-Ta(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"});d.each({margin:"",padding:"",border:"Width"},function(b,c){d.cssHooks[b+c]={expand:function(d){var a=0,f={};for(d="string"==typeof d?d.split(" "):
[d];4>a;a++)f[b+ra[a]+c]=d[a]||d[a-2]||d[0];return f}};Ma.test(b)||(d.cssHooks[b+c].set=ga)});d.fn.extend({css:function(b,c){return la(this,function(b,c,a){var f,g={},h=0;if(Array.isArray(c)){a=xa(b);for(f=c.length;h<f;h++)g[c[h]]=d.css(b,c[h],!1,a);return g}return void 0!==a?d.style(b,c,a):d.css(b,c)},b,c,1<arguments.length)}});d.fn.delay=function(b,c){return b=d.fx?d.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var a=e.setTimeout(c,b);d.stop=function(){e.clearTimeout(a)}})};(function(){var b=
q.createElement("input"),c=q.createElement("select").appendChild(q.createElement("option"));b.type="checkbox";R.checkOn=""!==b.value;R.optSelected=c.selected;b=q.createElement("input");b.value="t";b.type="radio";R.radioValue="t"===b.value})();var Ya,va=d.expr.attrHandle;d.fn.extend({attr:function(b,c){return la(this,d.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})}});d.extend({attr:function(b,c,a){var f,g,h=b.nodeType;if(3!==h&&8!==h&&2!==h)return"undefined"==
typeof b.getAttribute?d.prop(b,c,a):(1===h&&d.isXMLDoc(b)||(g=d.attrHooks[c.toLowerCase()]||(d.expr.match.bool.test(c)?Ya:void 0)),void 0!==a?null===a?void d.removeAttr(b,c):g&&"set"in g&&void 0!==(f=g.set(b,a,c))?f:(b.setAttribute(c,a+""),a):g&&"get"in g&&null!==(f=g.get(b,c))?f:(f=d.find.attr(b,c),null==f?void 0:f))},attrHooks:{type:{set:function(b,c){if(!R.radioValue&&"radio"===c&&C(b,"input")){var d=b.value;return b.setAttribute("type",c),d&&(b.value=d),c}}}},removeAttr:function(b,c){var d,a=
0,f=c&&c.match(ha);if(f&&1===b.nodeType)for(;d=f[a++];)b.removeAttribute(d)}});Ya={set:function(b,c,a){return!1===c?d.removeAttr(b,a):b.setAttribute(a,a),a}};d.each(d.expr.match.bool.source.match(/\w+/g),function(b,c){var a=va[c]||d.find.attr;va[c]=function(b,c,d){var f,g,h=c.toLowerCase();return d||(g=va[h],va[h]=f,f=null!=a(b,c,d)?h:null,va[h]=g),f}});var ub=/^(?:input|select|textarea|button)$/i,vb=/^(?:a|area)$/i;d.fn.extend({prop:function(b,c){return la(this,d.prop,b,c,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[d.propFix[b]||
b]})}});d.extend({prop:function(b,c,a){var f,g,h=b.nodeType;if(3!==h&&8!==h&&2!==h)return 1===h&&d.isXMLDoc(b)||(c=d.propFix[c]||c,g=d.propHooks[c]),void 0!==a?g&&"set"in g&&void 0!==(f=g.set(b,a,c))?f:b[c]=a:g&&"get"in g&&null!==(f=g.get(b,c))?f:b[c]},propHooks:{tabIndex:{get:function(b){var c=d.find.attr(b,"tabindex");return c?parseInt(c,10):ub.test(b.nodeName)||vb.test(b.nodeName)&&b.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});R.optSelected||(d.propHooks.selected={get:function(b){b=
b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(b){b=b.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}});d.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.propFix[this.toLowerCase()]=this});d.fn.extend({addClass:function(b){var c,a,f,g,h,e,n=0;if(d.isFunction(b))return this.each(function(c){d(this).addClass(b.call(this,c,M(this)))});if("string"==typeof b&&
b)for(c=b.match(ha)||[];a=this[n++];)if(g=M(a),f=1===a.nodeType&&" "+Q(g)+" "){for(e=0;h=c[e++];)0>f.indexOf(" "+h+" ")&&(f+=h+" ");f=Q(f);g!==f&&a.setAttribute("class",f)}return this},removeClass:function(b){var c,a,f,g,h,e,n=0;if(d.isFunction(b))return this.each(function(c){d(this).removeClass(b.call(this,c,M(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof b&&b)for(c=b.match(ha)||[];a=this[n++];)if(g=M(a),f=1===a.nodeType&&" "+Q(g)+" "){for(e=0;h=c[e++];)for(;-1<
f.indexOf(" "+h+" ");)f=f.replace(" "+h+" "," ");f=Q(f);g!==f&&a.setAttribute("class",f)}return this},toggleClass:function(b,c){var a=typeof b;return"boolean"==typeof c&&"string"===a?c?this.addClass(b):this.removeClass(b):d.isFunction(b)?this.each(function(a){d(this).toggleClass(b.call(this,a,M(this),c),c)}):this.each(function(){var c,f,g,h;if("string"===a)for(f=0,g=d(this),h=b.match(ha)||[];c=h[f++];)g.hasClass(c)?g.removeClass(c):g.addClass(c);else void 0!==b&&"boolean"!==a||(c=M(this),c&&P.set(this,
"__className__",c),this.setAttribute&&this.setAttribute("class",c||!1===b?"":P.get(this,"__className__")||""))})},hasClass:function(b){var c,d=0;for(b=" "+b+" ";c=this[d++];)if(1===c.nodeType&&-1<(" "+Q(M(c))+" ").indexOf(b))return!0;return!1}});var wb=/\r/g;d.fn.extend({val:function(b){var c,a,f,g=this[0];if(arguments.length)return f=d.isFunction(b),this.each(function(a){var g;1===this.nodeType&&(g=f?b.call(this,a,d(this).val()):b,null==g?g="":"number"==typeof g?g+="":Array.isArray(g)&&(g=d.map(g,
function(b){return null==b?"":b+""})),c=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&void 0!==c.set(this,g,"value")||(this.value=g))});if(g)return c=d.valHooks[g.type]||d.valHooks[g.nodeName.toLowerCase()],c&&"get"in c&&void 0!==(a=c.get(g,"value"))?a:(a=g.value,"string"==typeof a?a.replace(wb,""):null==a?"":a)}});d.extend({valHooks:{option:{get:function(b){var c=d.find.attr(b,"value");return null!=c?c:Q(d.text(b))}},select:{get:function(b){var c,a,f=b.options,g=b.selectedIndex,
h="select-one"===b.type,e=h?null:[],n=h?g+1:f.length;for(a=0>g?n:h?g:0;a<n;a++)if(c=f[a],!(!c.selected&&a!==g||c.disabled||c.parentNode.disabled&&C(c.parentNode,"optgroup"))){if(b=d(c).val(),h)return b;e.push(b)}return e},set:function(b,c){for(var a,f,g=b.options,h=d.makeArray(c),e=g.length;e--;)f=g[e],(f.selected=-1<d.inArray(d.valHooks.option.get(f),h))&&(a=!0);return a||(b.selectedIndex=-1),h}}}});d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(b,c){if(Array.isArray(c))return b.checked=
-1<d.inArray(d(b).val(),c)}};R.checkOn||(d.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var Za=/^(?:focusinfocus|focusoutblur)$/;d.extend(d.event,{trigger:function(b,c,a,f){var g,h,m,n,r,u,k,I=[a||q],z=ia.call(b,"type")?b.type:b;g=ia.call(b,"namespace")?b.namespace.split("."):[];if(h=m=a=a||q,3!==a.nodeType&&8!==a.nodeType&&!Za.test(z+d.event.triggered)&&(-1<z.indexOf(".")&&(g=z.split("."),z=g.shift(),g.sort()),r=0>z.indexOf(":")&&"on"+z,b=b[d.expando]?b:new d.Event(z,
"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=g.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=a),c=null==c?[b]:d.makeArray(c,[b]),k=d.event.special[z]||{},f||!k.trigger||!1!==k.trigger.apply(a,c))){if(!f&&!k.noBubble&&!d.isWindow(a)){n=k.delegateType||z;for(Za.test(n+z)||(h=h.parentNode);h;h=h.parentNode)I.push(h),m=h;m===(a.ownerDocument||q)&&I.push(m.defaultView||m.parentWindow||e)}for(g=0;(h=I[g++])&&!b.isPropagationStopped();)b.type=
1<g?n:k.bindType||z,(u=(P.get(h,"events")||{})[b.type]&&P.get(h,"handle"))&&u.apply(h,c),(u=r&&h[r])&&u.apply&&Ca(h)&&(b.result=u.apply(h,c),!1===b.result&&b.preventDefault());return b.type=z,f||b.isDefaultPrevented()||k._default&&!1!==k._default.apply(I.pop(),c)||!Ca(a)||r&&d.isFunction(a[z])&&!d.isWindow(a)&&(m=a[r],m&&(a[r]=null),d.event.triggered=z,a[z](),d.event.triggered=void 0,m&&(a[r]=m)),b.result}},simulate:function(b,c,a){b=d.extend(new d.Event,a,{type:b,isSimulated:!0});d.event.trigger(b,
null,c)}});d.fn.extend({trigger:function(b,c){return this.each(function(){d.event.trigger(b,c,this)})},triggerHandler:function(b,c){var a=this[0];if(a)return d.event.trigger(b,c,a,!0)}});d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(b,c){d.fn[c]=function(b,a){return 0<arguments.length?this.on(c,null,b,a):this.trigger(c)}});d.fn.extend({hover:function(b,
c){return this.mouseenter(b).mouseleave(c||b)}});R.focusin="onfocusin"in e;R.focusin||d.each({focus:"focusin",blur:"focusout"},function(b,c){var a=function(b){d.event.simulate(c,b.target,d.event.fix(b))};d.event.special[c]={setup:function(){var d=this.ownerDocument||this,f=P.access(d,c);f||d.addEventListener(b,a,!0);P.access(d,c,(f||0)+1)},teardown:function(){var d=this.ownerDocument||this,f=P.access(d,c)-1;f?P.access(d,c,f):(d.removeEventListener(b,a,!0),P.remove(d,c))}}});var jb=/\[\]$/,$a=/\r?\n/g,
xb=/^(?:submit|button|image|reset|file)$/i,yb=/^(?:input|select|textarea|keygen)/i;d.param=function(b,c){var a,f=[],g=function(b,c){var a=d.isFunction(c)?c():c;f[f.length]=encodeURIComponent(b)+"="+encodeURIComponent(null==a?"":a)};if(Array.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,function(){g(this.name,this.value)});else for(a in b)z(a,b[a],c,g);return f.join("&")};d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=
d.prop(this,"elements");return b?d.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!d(this).is(":disabled")&&yb.test(this.nodeName)&&!xb.test(b)&&(this.checked||!Ua.test(b))}).map(function(b,c){var a=d(this).val();return null==a?null:Array.isArray(a)?d.map(a,function(b){return{name:c.name,value:b.replace($a,"\r\n")}}):{name:c.name,value:a.replace($a,"\r\n")}}).get()}});d.fn.extend({wrapAll:function(b){var c;return this[0]&&(d.isFunction(b)&&(b=b.call(this[0])),c=d(b,this[0].ownerDocument).eq(0).clone(!0),
this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(b){return d.isFunction(b)?this.each(function(c){d(this).wrapInner(b.call(this,c))}):this.each(function(){var c=d(this),a=c.contents();a.length?a.wrapAll(b):c.append(b)})},wrap:function(b){var c=d.isFunction(b);return this.each(function(a){d(this).wrapAll(c?b.call(this,a):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){d(this).replaceWith(this.childNodes)}),
this}});d.expr.pseudos.hidden=function(b){return!d.expr.pseudos.visible(b)};d.expr.pseudos.visible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)};R.createHTMLDocument=function(){var b=q.implementation.createHTMLDocument("").body;return b.innerHTML="<form></form><form></form>",2===b.childNodes.length}();d.parseHTML=function(b,c,a){if("string"!=typeof b)return[];"boolean"==typeof c&&(a=c,c=!1);var f,g,h;return c||(R.createHTMLDocument?(c=q.implementation.createHTMLDocument(""),
f=c.createElement("base"),f.href=q.location.href,c.head.appendChild(f)):c=q),g=Qa.exec(b),h=!a&&[],g?[c.createElement(g[1])]:(g=S([b],c,h),h&&h.length&&d(h).remove(),d.merge([],g.childNodes))};d.offset={setOffset:function(b,c,a){var f,g,h,e,m,n,q=d.css(b,"position"),r=d(b),u={};"static"===q&&(b.style.position="relative");m=r.offset();h=d.css(b,"top");n=d.css(b,"left");("absolute"===q||"fixed"===q)&&-1<(h+n).indexOf("auto")?(f=r.position(),e=f.top,g=f.left):(e=parseFloat(h)||0,g=parseFloat(n)||0);
d.isFunction(c)&&(c=c.call(b,a,d.extend({},m)));null!=c.top&&(u.top=c.top-m.top+e);null!=c.left&&(u.left=c.left-m.left+g);"using"in c?c.using.call(b,u):r.css(u)}};d.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(c){d.offset.setOffset(this,b,c)});var c,a,f,g,h=this[0];if(h)return h.getClientRects().length?(f=h.getBoundingClientRect(),c=h.ownerDocument,a=c.documentElement,g=c.defaultView,{top:f.top+g.pageYOffset-a.clientTop,left:f.left+g.pageXOffset-a.clientLeft}):
{top:0,left:0}},position:function(){if(this[0]){var b,c,a=this[0],f={top:0,left:0};return"fixed"===d.css(a,"position")?c=a.getBoundingClientRect():(b=this.offsetParent(),c=this.offset(),C(b[0],"html")||(f=b.offset()),f={top:f.top+d.css(b[0],"borderTopWidth",!0),left:f.left+d.css(b[0],"borderLeftWidth",!0)}),{top:c.top-f.top-d.css(a,"marginTop",!0),left:c.left-f.left-d.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&"static"===d.css(b,"position");)b=
b.offsetParent;return b||Da})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var a="pageYOffset"===c;d.fn[b]=function(f){return la(this,function(b,f,g){var h;return d.isWindow(b)?h=b:9===b.nodeType&&(h=b.defaultView),void 0===g?h?h[c]:b[f]:void(h?h.scrollTo(a?h.pageXOffset:g,a?g:h.pageYOffset):b[f]=g)},b,f,arguments.length)}});d.each(["top","left"],function(b,c){d.cssHooks[c]=ka(R.pixelPosition,function(b,a){if(a)return a=T(b,c),Ea.test(a)?d(b).position()[c]+"px":a})});
d.each({Height:"height",Width:"width"},function(b,c){d.each({padding:"inner"+b,content:c,"":"outer"+b},function(a,f){d.fn[f]=function(g,h){var e=arguments.length&&(a||"boolean"!=typeof g),n=a||(!0===g||!0===h?"margin":"border");return la(this,function(a,c,g){var h;return d.isWindow(a)?0===f.indexOf("outer")?a["inner"+b]:a.document.documentElement["client"+b]:9===a.nodeType?(h=a.documentElement,Math.max(a.body["scroll"+b],h["scroll"+b],a.body["offset"+b],h["offset"+b],h["client"+b])):void 0===g?d.css(a,
c,n):d.style(a,c,g,n)},c,e?g:void 0,e)}})});d.fn.extend({bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,f){return this.on(a,b,d,f)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",d)}});d.holdReady=function(b){b?d.readyWait++:d.ready(!0)};d.isArray=Array.isArray;d.parseJSON=JSON.parse;d.nodeName=C;"function"==typeof define&&define.amd&&define("jquery",[],function(){return d});var zb=
e.jQuery,Ab=e.$;return d.noConflict=function(b){return e.$===d&&(e.$=Ab),b&&e.jQuery===d&&(e.jQuery=zb),d},a||(e.jQuery=e.$=d),d});var kUtil=kUtil||{};Math.sign||(Math.sign=function(e){return 0<e?1:0==e?0>1/e?-0:0:0>e?-1:NaN});kUtil.Matrix=function(e,a,k,l,C,da){this.a=e;this.b=a;this.c=k;this.d=l;this.e=C;this.f=da};kUtil.Matrix.dot=function(e,a){return new kUtil.Matrix(e.a*a.a+e.c*a.b,e.b*a.a+e.d*a.b,e.a*a.c+e.c*a.d,e.b*a.c+e.d*a.d,e.a*a.e+e.c*a.f+e.e,e.b*a.e+e.d*a.f+e.f)};
kUtil.Matrix.prototype.dot=function(e){return kUtil.Matrix.dot(this,e)};kUtil.Matrix.equals=function(e,a){return e.a==a.a&&e.b==a.b&&e.c==a.c&&e.d==a.d&&e.e==a.e&&e.f==a.f};kUtil.Matrix.prototype.equals=function(e){return kUtil.Matrix.equals(this,e)};kUtil.Matrix.prototype.inversion=function(){var e=this.a,a=this.b,k=this.c,l=this.d,C=this.e,da=this.f,D=e*l-a*k;return new kUtil.Matrix(l/D,-a/D,-k/D,e/D,(k*da-l*C)/D,(a*C-e*da)/D)};
kUtil.convertURLToBlob=function(e,a){var k=new XMLHttpRequest;k.open("GET",e,!0);k.responseType="blob";k.onloadend=function(){a(this.response)};k.send()};kUtil.convertBase64ToBlob=function(e,a){for(var k=atob(e),l=Array(k.length),C=0;C<k.length;++C)l[C]=k.charCodeAt(C);k=new Uint8Array(l);return new Blob([k],{type:a})};
Date.prototype.kUtilFormat=function(e){var a={"M+":this.getUTCMonth()+1,"d+":this.getUTCDate(),"h+":this.getUTCHours(),"m+":this.getUTCMinutes(),"s+":this.getUTCSeconds(),"q+":Math.floor((this.getUTCMonth()+3)/3),S:this.getUTCMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var k in a)(new RegExp("("+k+")")).test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[k]:("00"+a[k]).substr((""+a[k]).length)));return e};
kUtil.copyToClipBoard=function(e){if(navigator.clipboard)navigator.clipboard.writeText(e)["catch"](function(a){alert("copy failed, info: "+(a.message||a))});else{var a=document.createElement("textarea");a.style.width="4px";a.style.height="4px";a.style.position="fixed";a.style.left="0";a.style.top="0";jQuery(document.body).append(a);a.value=e;a.focus();a.select();try{document.execCommand("copy")||alert("copy failed")}catch(k){alert("copy failed, info: "+(k.message||k))}jQuery(a).remove()}};
(function(e){e.fn.borderWidth=function(){var a;a=window.getComputedStyle?getComputedStyle(this[0]):this[0].currentStyle;var e={};e.left=parseFloat(a.getPropertyValue?a.getPropertyValue("border-left-width"):a.getAttribute("border-left-width"))||0;e.top=parseFloat(a.getPropertyValue?a.getPropertyValue("border-top-width"):a.getAttribute("border-top-width"))||0;e.right=parseFloat(a.getPropertyValue?a.getPropertyValue("border-right-width"):a.getAttribute("border-right-width"))||0;e.bottom=parseFloat(a.getPropertyValue?
a.getPropertyValue("border-bottom-width"):a.getAttribute("border-bottom-width"))||0;return e};e.fn.padding=function(){var a;a=window.getComputedStyle?getComputedStyle(this[0]):this[0].currentStyle;var e={};e.left=parseFloat(a.getPropertyValue?a.getPropertyValue("padding-left"):a.getAttribute("padding-left"))||0;e.top=parseFloat(a.getPropertyValue?a.getPropertyValue("padding-top"):a.getAttribute("padding-top"))||0;e.right=parseFloat(a.getPropertyValue?a.getPropertyValue("padding-right"):a.getAttribute("padding-right"))||
0;e.bottom=parseFloat(a.getPropertyValue?a.getPropertyValue("padding-bottom"):a.getAttribute("padding-bottom"))||0;return e};e.fn.borderBoxRect=function(){var a=null;window.getComputedStyle&&(a=getComputedStyle(this[0]));var e=this.offset(),l={};l.pageX0=e.left;l.pageY0=e.top;l.width=a?parseFloat(a.width):this.outerWidth();l.height=a?parseFloat(a.height):this.outerHeight();l.pageX1=l.pageX0+l.width;l.pageY1=l.pageY0+l.height;return l};e.fn.paddingBoxRect=function(){var a=this.borderBoxRect(),e=this.borderWidth(),
l={};l.pageX0=a.pageX0+e.left;l.pageY0=a.pageY0+e.top;l.width=window.getComputedStyle?a.width-(e.left+e.right):this.innerWidth();l.height=window.getComputedStyle?a.height-(e.top+e.bottom):this.innerHeight();l.pageX1=a.pageX1-e.right;l.pageY1=a.pageY1-e.bottom;return l};e.fn.contentBoxRect=function(){var a=this.paddingBoxRect(),e=this.padding(),l={};l.pageX0=a.pageX0+e.left;l.pageY0=a.pageY0+e.top;l.width=window.getComputedStyle?a.width-(e.left+e.right):this.width();l.height=window.getComputedStyle?
a.height-(e.top+e.bottom):this.height();l.pageX1=a.pageX1-e.right;l.pageY1=a.pageY1-e.bottom;return l};e.fn.getTransform=function(){var a=this.css("transform");if("none"==a||""==a)a=this[0].style.transform;var e="matrix(",l=a.indexOf(e);if(-1!=l){l+=e.length;a=a.substring(l,a.indexOf(")",l)).split(",");for(e=0;e<a.length;++e)a[e]=parseFloat(a[e]);return new kUtil.Matrix(a[0],a[1],a[2],a[3],a[4],a[5])}e="scale(";l=a.indexOf(e);return-1!=l?(l+=e.length,a=parseFloat(a.substring(l)),new kUtil.Matrix(a,
0,0,a,0,0)):new kUtil.Matrix(1,0,0,1,0,0)};e.fn.setTransform=function(a){a="matrix("+[a.a,a.b,a.c,a.d,a.e,a.f].join()+")";this.css("transform",a)}})(jQuery);var TaskQueue=function(){this._queue=[];this.isWorking=!1;this.timeout=100};TaskQueue.prototype.push=function(e,a,k){this._queue.push({task:e,context:a,args:k});this.isWorking||this.next()};TaskQueue.prototype.unshift=function(e,a,k){this._queue.unshift({task:e,context:a,args:k});this.isWorking||this.next()};
TaskQueue.prototype.next=function(){if(0==this._queue.length)this.isWorking=!1;else{this.isWorking=!0;var e=this._queue.shift(),a=e.task,k=e.context?e.context:self,l=e.args?e.args:[];setTimeout(function(){a.apply(k,l)},this.timeout)}};
(function(){function e(a,e){e||a.match(/^data\:([^\;]+)\;base64,/mi);a=a.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var k=atob(a),y=k.length,p=new ArrayBuffer(y),l=new Uint8Array(p),H=0;H<y;H++)l[H]=k.charCodeAt(H);return p}function a(a,e){var k=new XMLHttpRequest;k.open("GET",a,!0);k.responseType="blob";k.onload=function(a){200!=this.status&&0!==this.status||e(this.response)};k.send()}function k(k,p){function y(a){var e=l(a),G;a:if(G=new DataView(a),255!=G.getUint8(0)||216!=G.getUint8(1))G=!1;
else{for(var w=2,y=a.byteLength;w<y;){var t=G,H=w;if(56===t.getUint8(H)&&66===t.getUint8(H+1)&&73===t.getUint8(H+2)&&77===t.getUint8(H+3)&&4===t.getUint8(H+4)&&4===t.getUint8(H+5)){t=G.getUint8(w+7);0!==t%2&&(t+=1);0===t&&(t=4);var y=w+8+t,w=G.getUint16(w+6+t),v,O;G=y;y=new DataView(a);t={};for(H=G;H<G+w;)28===y.getUint8(H)&&2===y.getUint8(H+1)&&(v=y.getUint8(H+2),v in ea&&(O=y.getInt16(H+3),v=ea[v],O=D(y,H+5,O),t.hasOwnProperty(v)?t[v]instanceof Array?t[v].push(O):t[v]=[t[v],O]:t[v]=O)),H++;G=t;
break a}w++}G=void 0}var S;a:if("DOMParser"in self)if(w=new DataView(a),255!=w.getUint8(0)||216!=w.getUint8(1))S=!1;else{y=2;t=a.byteLength;for(a=new DOMParser;y<t-4;)if("http"==D(w,y,4)){t=y-1;y=w.getUint16(y-2)-1;w=D(w,t,y);y=w.indexOf("xmpmeta>")+8;w=w.substring(w.indexOf("<x:xmpmeta"),y);y=w.indexOf("x:xmpmeta")+10;w=w.slice(0,y)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+
w.slice(y);b:{a=a.parseFromString(w,"text/xml");try{w={};if(0<a.children.length)for(y=0;y<a.children.length;y++){var E=a.children.item(y),A=E.attributes,F;for(F in A){var C=A[F],M=C.nodeName,z=C.nodeValue;void 0!==M&&(w[M]=z)}var f=E.nodeName;if("undefined"==typeof w[f])w[f]=xml2json(E);else{if("undefined"==typeof w[f].push){var q=w[f];w[f]=[];w[f].push(q)}w[f].push(xml2json(E))}}else w=a.textContent;S=w;break b}catch(g){console.log(g.message)}S=void 0}break a}else y++;S=void 0}else S=void 0;k.exifdata=
e||{};k.iptcdata=G||{};k.xmpdata=S||{};p&&p.call(k)}if(k.src)if(/^data\:/i.test(k.src)){var H=e(k.src);y(H)}else if(/^blob\:/i.test(k.src)){var v=new FileReader;v.onload=function(a){y(a.target.result)};a(k.src,function(a){v.readAsArrayBuffer(a)})}else{var t=new XMLHttpRequest;t.onload=function(){if(200==this.status||0===this.status)y(t.response);else throw"Could not load image";t=null};t.open("GET",k.src,!0);t.responseType="arraybuffer";t.send(null)}else self.FileReader&&(k instanceof self.Blob||
k instanceof self.File)&&(v=new FileReader,v.onload=function(a){y(a.target.result)},v.readAsArrayBuffer(k))}function l(a){var e=new DataView(a);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;var k=2;a=a.byteLength;for(var y;k<a;){if(255!=e.getUint8(k))return!1;y=e.getUint8(k+1);if(225==y)return ma(e,k+4,e.getUint16(k+2)-2);k+=2+e.getUint16(k+2)}}function C(a,e,k,p,l){var y=a.getUint16(k,!l),v={},H,G,w;for(w=0;w<y;w++)H=k+12*w+2,G=p[a.getUint16(H,!l)],v[G]=da(a,H,e,k,l);return v}function da(a,
e,k,p,l){var t=a.getUint16(e+2,!l);p=a.getUint32(e+4,!l);k=a.getUint32(e+8,!l)+k;var y,v;switch(t){case 1:case 7:if(1==p)return a.getUint8(e+8,!l);k=4<p?k:e+8;e=[];for(t=0;t<p;t++)e[t]=a.getUint8(k+t);return e;case 2:return D(a,4<p?k:e+8,p-1);case 3:if(1==p)return a.getUint16(e+8,!l);k=2<p?k:e+8;e=[];for(t=0;t<p;t++)e[t]=a.getUint16(k+2*t,!l);return e;case 4:if(1==p)return a.getUint32(e+8,!l);e=[];for(t=0;t<p;t++)e[t]=a.getUint32(k+4*t,!l);return e;case 5:if(1==p)return y=a.getUint32(k,!l),v=a.getUint32(k+
4,!l),a=new Number(y/v),a.numerator=y,a.denominator=v,a;e=[];for(t=0;t<p;t++)y=a.getUint32(k+8*t,!l),v=a.getUint32(k+4+8*t,!l),e[t]=new Number(y/v),e[t].numerator=y,e[t].denominator=v;return e;case 9:if(1==p)return a.getInt32(e+8,!l);e=[];for(t=0;t<p;t++)e[t]=a.getInt32(k+4*t,!l);return e;case 10:if(1==p)return a.getInt32(k,!l)/a.getInt32(k+4,!l);e=[];for(t=0;t<p;t++)e[t]=a.getInt32(k+8*t,!l)/a.getInt32(k+4+8*t,!l);return e}}function D(a,e,k){for(var p="",l=e;l<e+k;l++)p+=String.fromCharCode(a.getUint8(l));
return p}function ma(a,e){if("Exif"!=D(a,e,4))return!1;var k,p,l,t,y=e+6;if(18761==a.getUint16(y))k=!1;else if(19789==a.getUint16(y))k=!0;else return!1;if(42!=a.getUint16(y+2,!k))return!1;var W=a.getUint32(y+4,!k);if(8>W)return!1;p=C(a,y,y+W,v,k);if(p.ExifIFDPointer)for(l in t=C(a,y,y+p.ExifIFDPointer,F,k),t){switch(l){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":t[l]=
L[l][t[l]];break;case "ExifVersion":case "FlashpixVersion":t[l]=String.fromCharCode(t[l][0],t[l][1],t[l][2],t[l][3]);break;case "ComponentsConfiguration":t[l]=L.Components[t[l][0]]+L.Components[t[l][1]]+L.Components[t[l][2]]+L.Components[t[l][3]]}p[l]=t[l]}if(p.GPSInfoIFDPointer)for(l in t=C(a,y,y+p.GPSInfoIFDPointer,N,k),t){switch(l){case "GPSVersionID":t[l]=t[l][0]+"."+t[l][1]+"."+t[l][2]+"."+t[l][3]}p[l]=t[l]}W=y+W;l=a.getUint16(W,!k);if(W=a.getUint32(W+2+12*l,!k))if(W>a.byteLength)y={};else{W=
C(a,y,y+W,J,k);if(W.Compression)switch(W.Compression){case 6:W.JpegIFOffset&&W.JpegIFByteCount&&(W.blob=new Blob([new Uint8Array(a.buffer,y+W.JpegIFOffset,W.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",W.Compression)}else 2==W.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");y=W}else y={};p.thumbnail=y;return p}
var A=self,p=function(a){if(a instanceof p)return a;if(!(this instanceof p))return new p(a);this.EXIFwrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=p),exports.EXIF=p):A.EXIF=p;var F=p.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",
36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",
41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",
42016:"ImageUniqueID"},v=p.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",
301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},N=p.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",
16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},J=p.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",
278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},L=p.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",
2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",
24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",
32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",
95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},
GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},ea={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",
105:"headline",116:"copyright",15:"category"};p.getData=function(a,e){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;a.exifdata?e&&e.call(a):k(a,e);return!0};p.getTag=function(a,e){if(a.exifdata)return a.exifdata[e]};p.getIptcTag=function(a,e){if(a.exifdata)return a.iptcdata[e]};p.getAllTags=function(a){if(!a.exifdata)return{};var e;a=a.exifdata;var k={};for(e in a)a.hasOwnProperty(e)&&(k[e]=a[e]);return k};p.getAllIptcTags=
function(a){if(!a.exifdata)return{};var e;a=a.iptcdata;var k={};for(e in a)a.hasOwnProperty(e)&&(k[e]=a[e]);return k};p.pretty=function(a){if(!a.exifdata)return"";var e;a=a.exifdata;var k="";for(e in a)a.hasOwnProperty(e)&&(k="object"==typeof a[e]?a[e]instanceof Number?k+(e+" : "+a[e]+" ["+a[e].numerator+"/"+a[e].denominator+"]\r\n"):k+(e+" : ["+a[e].length+" values]\r\n"):k+(e+" : "+a[e]+"\r\n"));return k};p.readFromBinaryFile=function(a){return l(a)};"function"===typeof define&&define.amd&&define("exif-js",
[],function(){return p})}).call(this);
var KPainter=function(e){var a=this;e=e||{};KPainter.xxx="mouse"==e.gesturer?!1:"touch"==e.gesturer?!0:"ontouchend"in document?!0:!1;var k=jQuery,l=function(a,e,k,l){a.toBlob?a.toBlob(e,k,l):(a=a.toDataURL(k,l),k=kUtil.convertBase64ToBlob(a.substring(a.indexOf(",")+1),k),e(k))},C=function(a,e,k){e=e||new kUtil.Matrix(1,0,0,1,0,0);var l=document.createElement("canvas"),p=!1;0!=e.a*e.d&&0==e.b*e.c?(l.width=a.naturalWidth||a.width,l.height=a.naturalHeight||a.height):(p=!0,l.width=a.naturalHeight||a.height,
l.height=a.naturalWidth||a.width);if(l.width>k||l.height>k)k/=Math.max(l.width,l.height),l.width=Math.min(l.width*k),l.height=Math.min(l.height*k);k=l.getContext("2d");k.setTransform(e.a,e.b,e.c,e.d,e.e*l.width,e.f*l.height);p?k.drawImage(a,0,0,l.height,l.width):k.drawImage(a,0,0,l.width,l.height);return l},da=function(a,e,k,l){var p=function(){var p=URL.createObjectURL(a),t=new Image;t.onload=t.onerror=function(){t.onload=t.onerror=null;var a=C(t,e,l);URL.revokeObjectURL(p);k(a)};t.src=p};window.createImageBitmap?
createImageBitmap(a).then(function(a){k(C(a,e,l))})["catch"](function(){p()}):p()},D=KPainter._doCallbackNoBreak,ma=k('<div style="width:800px;height:600px;border:1px solid #ccc;"><div class="kPainterBox"><div class="kPainterImgsDiv"><canvas class="kPainterCanvas" style="display:none;left:0;top:0;"></canvas></div><div class="kPainterCroper" style="width:50px;height:50px;display:none;"><div class="kPainterCells"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div><div class="kPainterBigMover" data-orient="0,0" style="display:none"></div><div class="kPainterEdges"><div data-orient="-1,0"></div><div data-orient="0,-1"></div><div data-orient="1,0"></div><div data-orient="0,1"></div></div><div class="kPainterCorners"><div data-orient="-1,-1"><i></i></div><div data-orient="1,-1"><i></i></div><div data-orient="1,1"><i></i></div><div data-orient="-1,1"><i></i></div></div><div class="kPainterMover" data-orient="0,0"><div></div><svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 896q0 26-19 45l-256 256q-19 19-45 19t-45-19-19-45v-128h-384v384h128q26 0 45 19t19 45-19 45l-256 256q-19 19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-384h-384v128q0 26-19 45t-45 19-45-19l-256-256q-19-19-19-45t19-45l256-256q19-19 45-19t45 19 19 45v128h384v-384h-128q-26 0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45t-19 45-45 19h-128v384h384v-128q0-26 19-45t45-19 45 19l256 256q19 19 19 45z" fill="#fff"/></svg></div></div><div class="kPainterPerspect" style="display:none;"><canvas class="kPainterPerspectCvs"></canvas><div class="kPainterPerspectCorner" data-index="0">lt</div><div class="kPainterPerspectCorner" data-index="1">rt</div><div class="kPainterPerspectCorner" data-index="2">rb</div><div class="kPainterPerspectCorner" data-index="3">lb</div></div><div class="kPainterGesturePanel"></div></div></div>')[0],
A=k(ma).children(),p=A.find("> .kPainterImgsDiv > .kPainterCanvas")[0];a.getHtmlElement=function(){return ma};var F=-1,v=[],N=null,J=null,L=!1,ea="view";a.getCurIndex=function(){return F};a.getCount=function(){return v.length};a.isEditing=function(){return L};a.getMode=function(){return ea};a.getImage=function(a,e){void 0==e&&(e=F);if(!(isNaN(e)||(e=Math.round(e),0>e||e>=v.length))){var l;a?l=v[e]:(l=k(v[e]).clone()[0],l.setAttribute("style",""));return l}};a.onStartLoading=null;a.onFinishLoading=
null;var y=function(){D(a.onStartLoading)},H=function(){D(a.onFinishLoading)},S=new function(){a.defaultFileInput=k('<input type="file" accept="image/bmp,image/gif,image/jpeg,image/png,image/webp" multiple style="display:none">')[0];a.beforeAddImgFromFileChooseWindow=null;a.afterAddImgFromFileChooseWindow=null;k(a.defaultFileInput).change(function(f){var e=this;f=f.originalEvent;a.beforeAddImgFromFileChooseWindow?D(a.beforeAddImgFromFileChooseWindow,[f,function(f){p(f,function(f){D(a.afterAddImgFromFileChooseWindow,
[f]);e.value=""})}]):p(e.files,function(f){D(a.afterAddImgFromFileChooseWindow,[f]);e.value=""})});a.showFileChooseWindow=function(){if(L)return!1;a.defaultFileInput.click();return!0};a.beforeAddImgFromDropFile=null;a.afterAddImgFromDropFile=null;A.on("dragover",function(a){a=a.originalEvent;a.stopPropagation();a.preventDefault()});A.on("drop",function(f){f=f.originalEvent;f.stopPropagation();f.preventDefault();a.beforeAddImgFromDropFile?D(a.beforeAddImgFromDropFile,[f,function(f){p(f,a.afterAddImgFromDropFile)}]):
p(f.dataTransfer.files,a.afterAddImgFromDropFile)});var e=new TaskQueue,p=a.addImageAsync=function(a,q){if(L)D(q,[!1]);else if(a)if(a instanceof Blob||a instanceof HTMLCanvasElement||"string"==typeof a||a instanceof String||a instanceof HTMLImageElement)y(),e.push(J,null,[a,function(a){D(q,[a]);e.next();e.isWorking||H()}]);else if(a instanceof Array||a instanceof FileList)for(var f=[],h=!1,k=0;k<a.length;++k)p(a[k],function(g){f.push(g);h=h||g;f.length==a.length&&D(q,[h,f])});else D(q,[!1]);else D(q,
[!1])},t=function(a,e){"image/jpeg"!=a.type?e(null):EXIF.getData(a,function(){var a=null;switch(EXIF.getTag(this,"Orientation")){case 6:a=new kUtil.Matrix(0,1,-1,0,1,0);break;case 3:a=new kUtil.Matrix(-1,0,0,-1,1,1);break;case 8:a=new kUtil.Matrix(0,-1,1,0,0,1)}e(a)})},qa=function(a,e){var f=a.slice(25,26),h=new FileReader;h.onload=function(){var a=(new Int8Array(h.result))[0];e(4==(a&4))};h.readAsArrayBuffer(f)},V=function(a,e){var f=a.type;-1!=f.indexOf("webp")?e&&e("image/webp"):-1!=f.indexOf("gif")||
-1!=f.indexOf("svg")?e&&e("image/png"):-1!=f.indexOf("png")?qa(a,function(a){e&&e(a?"image/png":"image/jpeg")}):e&&e("image/jpeg")},J=function(a,e){T(a,function(a,f){a?D(function(){ca(a,f,e)}):e(!1)})},T=this.getBlobAndFormatFromAnyImgData=function(a,e){var f=function(a){V(a,function(f){t(a,function(g){N(a,g,f,function(a){e(a,f)})})})};if(a instanceof Blob)f(a);else if(a instanceof HTMLCanvasElement)l(a,function(a){f(a)});else if("string"==typeof a||a instanceof String)if("data:"==a.substring(0,5)){var h=
"";"image/"==a.substring(5,11)&&(h=a.substring(5,a.indexOf(";",11)));h=kUtil.convertBase64ToBlob(a.substring(a.indexOf("base64,")+7),h);f(h)}else kUtil.convertURLToBlob(a,function(a){a?f(a):e(null,"")});else if(a instanceof HTMLImageElement){var q;try{q=a.src}catch(n){setTimeout(function(){throw n;},0);e(null,"");return}T(q,function(g,h){if(g)e(g,h);else{var n=document.createElement("canvas");n.width=a.naturalWidth;n.height=a.naturalHeight;n.getContext("2d").drawImage(a,0,0);var r="",k=q.lastIndexOf("?"),
u=-1;-1!=k?(u=q.lastIndexOf(".",k),-1!=u&&5>=k-u&&(r=q.substring(u+1,k))):(u=q.lastIndexOf("."),-1!=u&&(r=5>=q.length-u?q.substring(u+1):q.substring(u+1,u+5)));r=-1!=r.indexOf("webp")?"image/webp":-1!=r.indexOf("png")||-1!=r.indexOf("gif")||-1!=r.indexOf("svg")?"image/png":"image/jpeg";l(n,function(a){f(a)},r)}})}else e(null,"")};a.addedImageMaxWH=4096;var N=function(a,e,g,h){e?da(a,e,function(a){l(a,function(a){h&&h(a)},g)}):h&&h(a)};a.isShowNewImgWhenAdd=!0;var ca=function(f,e,g){var h=new Image;
h.kPainterOriBlob=h.kPainterBlob=f;h.kPainterSaveFormat=e;var q=URL.createObjectURL(h.kPainterBlob);h.onload=h.onerror=function(){a._noAnyUseButForIosSafariBug0=h.naturalWidth;a._noAnyUseButForIosSafariBug1=h.naturalHeight;h.kPainterWidth=h.naturalWidth;h.kPainterHeight=h.naturalHeight;h.kPainterOriWidth=h.kPainterWidth;h.kPainterOriHeight=h.kPainterHeight;if(h.kPainterWidth>a.addedImageMaxWH||h.kPainterHeight>a.addedImageMaxWH)l(C(h,null,a.addedImageMaxWH),function(a){URL.revokeObjectURL(q);h.kPainterOriBlob=
h.kPainterBlob=a;q=URL.createObjectURL(h.kPainterBlob);h.src=q},e);else{h.onload=h.onerror=null;(a.isShowNewImgWhenAdd||-1==F)&&Q(v.length-1);try{(function(){for(var a=0;a<n.length;++a){var f=n[a].cvs,g=n[a].mwh,g=Math.min(g/h.naturalWidth,g/h.naturalHeight,1);f.width=Math.round(h.naturalWidth*g);f.height=Math.round(h.naturalHeight*g);f.getContext("2d").drawImage(h,0,0,f.width,f.height)}})()}catch(r){setTimeout(function(){throw r;},0)}g&&g(!0)}};h.src=q;k(h).hide();A.children(".kPainterImgsDiv").append(h);
v.push(h);var n=[];try{(function(){for(var a=0;a<z.length;++a){var f=z[a],g=f.kPainterFunWrap,e=document.createElement("canvas");e.className="kPainterThumbnailCanvas";n.push({cvs:e,mwh:f.kPainterMaxWH});var h=null;try{h=g?g(e):e}catch(fa){setTimeout(function(){throw fa;},0);break}h&&(h.getKPainterIndex=function(){return f.kPainterThumbBoxArr.indexOf(this)},f.kPainterThumbBoxArr.push(h),f.appendChild(h))}})()}catch(r){setTimeout(function(){throw r;},0)}},O=function(){var f=v[F],e=A;e.paddingBoxRect();
var e=e.contentBoxRect(),g=f.kPainterZoom=Math.min(e.width/f.kPainterWidth,e.height/f.kPainterHeight);f.style.width=(Math.round(f.kPainterWidth*g)||1)+"px";f.style.height=(Math.round(f.kPainterHeight*g)||1)+"px";f.style.left=f.style.right=f.style.top=f.style.bottom="-100000px";if(2<=v.length){var h=v[(v.length+F-1)%v.length],g=Math.min(e.width/h.kPainterWidth,e.height/h.kPainterHeight);h.style.width=(Math.round(h.kPainterWidth*g)||1)+"px";h.style.height=(Math.round(h.kPainterHeight*g)||1)+"px";h.style.right=
"100000px";h.style.left=h.style.top=h.style.bottom="-100000px"}3<=v.length&&(f=v[(v.length+F+1)%v.length],g=Math.min(e.width/f.kPainterWidth,e.height/f.kPainterHeight),f.style.width=(Math.round(f.kPainterWidth*g)||1)+"px",f.style.height=(Math.round(f.kPainterHeight*g)||1)+"px",f.style.left="100000px",f.style.right=f.style.top=h.style.bottom="-100000px");D(a.onUpdateImgPosZoom)},X=null,S;a.updateUIOnResize=function(f,e){null!=X&&(clearTimeout(X),X=null);if(f)S=L,X=setTimeout(function(){if(-1!=F&&S==
L){if(L){var f=a.getFreeTransformCornerPos();E.setImgStyleFit();a.setFreeTransformCornerPos(f)}else O();D(e)}X=null},500);else if(-1!=F){if(L){var g=a.getFreeTransformCornerPos();E.setImgStyleFit();a.setFreeTransformCornerPos(g)}else O();D(e)}};var Q=this.showImg=function(f){var e=v[f];k(e).siblings().hide();F=f;k(e).show();2<=v.length&&(0<f||a.allowedTouchMoveSwitchImgOverBoundary)&&k(v[(v.length+f-1)%v.length]).show();3<=v.length&&(f<v.length-1||a.allowedTouchMoveSwitchImgOverBoundary)&&k(v[(v.length+
f+1)%v.length]).show();O();M()};a.onNumChange=null;var M=function(){var f=void 0,e=void 0;return function(){if(f!=F||e!=v.length)f=F,e=v.length,D(a.onNumChange,[F,v.length])}}();a.changePage=function(a){if(L)return!1;var f;switch(a){case "f":f=0;break;case "p":f=F-1;break;case "n":f=F+1;break;case "l":f=v.length-1;break;default:if(1>arguments.length||isNaN(a))return!1;f=Math.round(a)}if(0>f||f>=v.length||f==F)return!1;Q(f);return!0};a.del=function(a){if(L)return!1;1>arguments.length&&(a=F);if(isNaN(a))return!1;
a=Math.round(a);if(0>a||a>=v.length)return!1;URL.revokeObjectURL(v[a].src);k(v[a]).remove();v.splice(a,1);try{for(var f=0;f<z.length;++f){var g=z[f];k(g.kPainterThumbBoxArr[a]).remove();g.kPainterThumbBoxArr.splice(a,1)}}catch(h){setTimeout(function(){throw h;},0)}a<F?(--F,M()):a==F?(F==v.length&&--F,0<=F?Q(F):M()):M();return!0};a.getWidth=function(a){1>arguments.length&&(a=F);if(isNaN(a))return NaN;a=Math.round(a);return 0>a||a>=v.length?NaN:v[a].kPainterWidth};a.getHeight=function(a){1>arguments.length&&
(a=F);if(isNaN(a))return NaN;a=Math.round(a);return 0>a||a>=v.length?NaN:v[a].kPainterHeight};a.getBlob=function(a){1>arguments.length&&(a=F);if(isNaN(a))return null;a=Math.round(a);return 0>a||a>=v.length?null:v[a].kPainterBlob};a.download=function(a,e){2>arguments.length&&(e=F);if(isNaN(e))return null;e=Math.round(e);if(0>e||e>=v.length)return null;var f=document.createElement("a");f.target="_blank";var h=v[e].kPainterBlob;if(!a){var k="";h.type&&(k=h.type.substring(h.type.indexOf("/")+1));k="jpeg"==
k?".jpg":"."+k;a=(new Date).getTime()+k}f.download=a;var n=URL.createObjectURL(h);f.href=n;h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});f.dispatchEvent(h);setTimeout(function(){URL.revokeObjectURL(n)},1E4);return a};var z=this.thumbnailBoxArr=[];a.bindThumbnailBox=function(f,e,g){if(L||!(f instanceof HTMLElement))return!1;a.unbindThumbnailBox(f);f.innerHTML="";f.kPainterFunWrap=e;f.kPainterMaxWH=g||256;f.kPainterThumbBoxArr=[];for(g=0;g<v.length;++g){var h=v[g];a._noAnyUseButForIosSafariBug0=
h.naturalWidth;a._noAnyUseButForIosSafariBug1=h.naturalHeight;var k=Math.min(f.kPainterMaxWH/h.naturalWidth,f.kPainterMaxWH/h.naturalHeight,1),n=document.createElement("canvas");n.width=Math.round(h.naturalWidth*k);n.height=Math.round(h.naturalHeight*k);n.getContext("2d").drawImage(h,0,0,n.width,n.height);n.className="kPainterThumbnailCanvas";h=null;try{h=e?e(n):n}catch(r){return setTimeout(function(){throw r;},0),!1}h&&(h.getKPainterIndex=function(){return f.kPainterThumbBoxArr.indexOf(this)},f.kPainterThumbBoxArr.push(h),
f.appendChild(h))}z.push(f);return!0};a.unbindThumbnailBox=function(a){if(L)return!1;if(a){for(var f=0;f<z.length;++f)if(z[f]==a)return a.innerHTML="",a.kPainterFunWrap=void 0,a.kPainterThumbBoxArr=void 0,z.splice(f,1),!0;return!1}for(f=0;f<z.length;++f)a=z[f],a.innerHTML="",a.kPainterFunWrap=void 0,a.kPainterThumbBoxArr=void 0;z.length=0;return!0}};(function(a){a=a.length?a[0]:function(a){var e=a.indexOf(".");return[a.substring(e,e+32),a.substring(0,8)]}(location.host);for(var e=null,k=0;k<a.length;++k){for(var l=
1,p=a[k],t=0;t<p.length;++t)l*=p.charCodeAt(t),l+=p.charCodeAt((t+1)%p.length),l%=11003;if(1!=l&&7480!=l&&5095!=l&&3124!=l&&8633!=l&&3122!=l)e=setTimeout(function(){D=function(){}},1E5*(1+2*Math.random()));else{null!==e&&clearTimeout(e);break}}})(arguments);var E=new function(){var e=Number.NEGATIVE_INFINITY,l;a.leftDoubleClickZoomRate=2;a.rightDoubleClickZoomRate=.5;var w,y,C,E,T,H,O,ga,X,aa,Q,M,z,f,q,g,h,u,n,r,Y,I;a.allowedTouchMoveSwitchImgOverBoundary=!0;var ia=function(){if(-1!=F&&"posZoom"==
N){N=J=null;A.find("> .kPainterCroper > .kPainterEdges").children().css("z-index",1);A.find("> .kPainterCroper > .kPainterCorners").children().css("z-index",1);A.find("> .kPainterCroper > .kPainterMover").css("z-index",1);A.find("> .kPainterCroper > .kPainterBigMover").css("z-index",1);if(!L&&1!=v.length){var d=!1,f,h;1.2>r/Y&&(d=!0,f=Math.sqrt(Math.pow(T-w,2)+Math.pow(H-y,2)),h=f/(((new Date).getTime()-e)/1E3));if(u<-(Math.round(g*r)||1)/2||d&&-50>f&&-200>h){if(F+1<v.length||a.allowedTouchMoveSwitchImgOverBoundary){S.showImg((v.length+
F+1)%v.length);return}}else if(u>(Math.round(g*r)||1)/2||d&&50<f&&200<h)if(0<=F-1||a.allowedTouchMoveSwitchImgOverBoundary){S.showImg((v.length+F-1)%v.length);return}}R();fa()}},K=function(a){var d=A;L?(f=p,g=f.width,h=f.height):(f=v[F],g=f.kPainterWidth,h=f.kPainterHeight);u=parseFloat(f.style.left)+1E5;n=parseFloat(f.style.top)+1E5;q=k(f).getTransform();if(0==q.a*q.d||0!=q.b*q.c){var e=g;g=h;h=e}r=f.kPainterZoom||1;M=d.paddingBoxRect();z=d.contentBoxRect();Y=Math.min(z.width/g,z.height/h);L&&t.isCropRectShowing&&
!a&&(a=t.getNeededRect(),Y=Math.max(Math.max(a.width,g*Y)/g,Math.max(a.height,h*Y)/h))};a.onUpdateImgPosZoom=null;var fa=function(){f.style.left=u-1E5+"px";f.style.right=-u-1E5+"px";f.style.top=n-1E5+"px";f.style.bottom=-n-1E5+"px";f.kPainterZoom=r;0!=q.a*q.d&&0==q.b*q.c?(f.style.width=(Math.round(g*r)||1)+"px",f.style.height=(Math.round(h*r)||1)+"px"):(f.style.height=(Math.round(g*r)||1)+"px",f.style.width=(Math.round(h*r)||1)+"px");if(!L&&1!=v.length){var d=Math.max(0,((Math.round(g*r)||1)-M.width)/
2);if(2<v.length||u>d){var e=v[(v.length+F-1)%v.length];e.style.left=u-d-M.width+"px";e.style.right=-u+d+M.width+"px"}if(2<v.length||u<=-d)e=v[(v.length+F+1)%v.length],e.style.left=u+d+M.width+"px",e.style.right=-u-d-M.width+"px"}D(a.onUpdateImgPosZoom)},R=function(a,f){4<r&&(r=4);r<Y&&(r=Y);if(!a){var d=Math.round(g*r)||1;z.width>d?u=0:(d=(d-z.width)/2,u<-d?u=-d:u>d&&(u=d))}f||(d=Math.round(h*r)||1,z.height>d?n=0:(d=(d-z.height)/2,n<-d?n=-d:n>d&&(n=d)))};a.getZoom=function(){if(0!=v.length)return K(),
r};a.setZoom=function(a,f){if(0==v.length)return null;a=parseFloat(a);if(a!==a)return null;K();r=f?r*a:a;R();fa();return r};this.setImgStyleFit=function(){K(!0);r=Y;R();fa();a.setCropRectArea()};A.on("touchstart touchcancel touchend mousedown",function(d){d.preventDefault();if(-1!=F){var f=d.originalEvent;d=f.targetTouches;var g;if(!d){if(!J)J="mouse";else if("mouse"!=J)return;d=[{pageX:f.clientX,pageY:f.clientY}];g=f.buttons}else if(d.length)if(!J)J="touch";else if("touch"!=J)return;if(1==d.length){T=
w=d[0].pageX;H=y=d[0].pageY;K();f=e;e=(new Date).getTime();var h=l;l=g||(.01>Math.abs(r-Y)/Y?1:2);if(1E3>e-f&&l==h&&(1==l||2==l)&&8>Math.abs(d[0].pageX-C)&&8>Math.abs(d[0].pageY-E)){e=Number.NEGATIVE_INFINITY;g=T;var f=H,k=r,h=1==l?a.leftDoubleClickZoomRate:a.rightDoubleClickZoomRate;r*=h;4<r&&(r=4,h=4/k);r<Y&&(r=Y,h=Y/k);k=n+M.pageY0+M.height/2;u-=(h-1)*(g-(u+M.pageX0+M.width/2));n-=(h-1)*(f-k);R()}null==N&&(N="posZoom",A.find("> .kPainterCroper > .kPainterEdges").children().css("z-index","unset"),
A.find("> .kPainterCroper > .kPainterCorners").children().css("z-index","unset"),A.find("> .kPainterCroper > .kPainterMover").css("z-index","unset"),A.find("> .kPainterCroper > .kPainterBigMover").css("z-index","unset"),I=d[0].identifier)}else 2==d.length?(T=w=d[0].pageX,H=y=d[0].pageY,null==N&&(N="posZoom"),"posZoom"==N&&(K(),A.find("> .kPainterCroper > .kPainterEdges").children().css("z-index","unset"),A.find("> .kPainterCroper > .kPainterCorners").children().css("z-index","unset"),A.find("> .kPainterCroper > .kPainterMover").css("z-index",
"unset"),A.find("> .kPainterCroper > .kPainterBigMover").css("z-index","unset"),X=d[1].pageX,aa=d[1].pageY,O=(T+X)/2,ga=(H+aa)/2,Q=Math.sqrt(Math.pow(T-X,2)+Math.pow(H-aa,2)))):0==d.length&&(C=T,E=H,ia())}});A.on("mouseup",function(a){"mouse"==J&&(a=a.originalEvent,C=a.clientX,E=a.clientY,ia())});A.on("mouseleave",function(a){"mouse"==J&&a.originalEvent.buttons&&(C=T,E=H,ia())});A.on("contextmenu",function(a){a.preventDefault()});A.on("touchmove mousemove",function(a){a.preventDefault();var d=a.originalEvent.targetTouches;
if(!d){if("mouse"!=J)return;d=[{pageX:a.originalEvent.clientX,pageY:a.originalEvent.clientY}]}else if("touch"!=J)return;if(1==d.length){if("posZoom"==N&&I==d[0].identifier){a=T;var f=H;T=d[0].pageX;H=d[0].pageY;u+=T-a;n+=H-f;R(!L);fa()}}else if(2==d.length&&"posZoom"==N){a=O;var f=ga,e=Q,g=r;T=d[0].pageX;H=d[0].pageY;X=d[1].pageX;aa=d[1].pageY;O=(T+X)/2;ga=(H+aa)/2;Q=Math.sqrt(Math.pow(T-X,2)+Math.pow(H-aa,2));d=Q/e;r*=d;4<r&&(r=4,d=4/g);r<Y&&(r=Y,d=Y/g);g=n+M.pageY0+M.height/2;u-=(d-1)*(a-(u+M.pageX0+
M.width/2));n-=(d-1)*(f-g);R();fa()}})},O=new function(){var e=this,G,w=[];a.stepImgsGCThreshold=10;var C=[],V=[];a.addProtectedStep=function(a){if(!L)return!1;a=parseInt(a);if(a!==a)return!1;if(-1!=V.indexOf(a))return!0;V.push(a);V.sort(function(a,e){return a-e});return!0};a.removeProtectedStep=function(a){if(!L)return!1;a=parseInt(a);if(a!==a)return!1;a=V.indexOf(a);if(-1==a)return!1;V.splice(a,1);return!0};a.getProtectedSteps=function(){return L?V.concat():null};var O=e.pushStack=function(e){w.length=
G+1;for(var f=C.length-1;0<f;--f)if(C[f].beginStep>G)--C.length;else break;var k;if(e.srcBlob){k={crop:{left:0,top:0,width:1,height:1},transform:new kUtil.Matrix(1,0,0,1,0,0),srcBlob:e.srcBlob,saveFormat:e.saveFormat};for(f=0;C.length>=a.stepImgsGCThreshold;)if(V.filter(function(a){return C[f].beginStep<=a&&a<C[f].endStep}).length){if(!(++f<C.length))break}else{e=C[f].endStep;for(var g=C[f].beginStep;g<e;++g)w[g]=null;C.splice(f,1)}w.push(k);++G;C.push({blob:k.srcBlob,beginStep:G,endStep:G+1})}else{k=
w[G];var h=k.crop,u=e.transform,n=e.crop,g={};e=u?u:k.transform;g.left=h.left;g.top=h.top;g.width=h.width;g.height=h.height;0!=e.a*e.d&&0==e.b*e.c?(u&&(e=new kUtil.Matrix(Math.sign(u.a),0,0,Math.sign(u.d),0,0)),n&&(g.left=1==e.a?g.left+n.left*h.width:g.left+(1-n.left-n.width)*h.width,g.top=1==e.d?g.top+n.top*h.height:g.top+(1-n.top-n.height)*h.height,g.width*=n.width,g.height*=n.height)):(u&&(e=new kUtil.Matrix(0,Math.sign(u.b),Math.sign(u.c),0,0,0)),n&&(g.left=1==e.b?g.left+n.top*h.width:g.left+
(1-n.top-n.height)*h.width,g.top=1==e.c?g.top+n.left*h.height:g.top+(1-n.left-n.width)*h.height,g.width*=n.height,g.height*=n.width));h=v[F];h=Math.pow(10,Math.ceil(Math.max(h.kPainterWidth,h.kPainterHeight)).toString().length+2);g.left=Math.round(g.left*h)/h;g.top=Math.round(g.top*h)/h;g.width=Math.round(g.width*h)/h;g.height=Math.round(g.height*h)/h;k={crop:g,transform:e,srcBlob:k.srcBlob,saveFormat:k.saveFormat};w.push(k);++G;k.srcBlob&&(C[C.length-1].endStep=G+1)}};a.undo=function(a){if(!L)D(a,
[!1]);else if(0<G){for(var f=G-1;null==w[f];)--f;T(G,f,function(){D(a,[!0])})}};a.redo=function(a){if(!L)D(a,[!1]);else if(G<w.length-1){for(var f=G+1;null==w[f];)++f;T(G,f,function(){D(a,[!0])})}};a.getStepCount=function(){return L?w.length:NaN};a.getCurStep=function(){return L?G:NaN};a.setCurStepAsync=function(a,f){1>arguments.length||isNaN(a)?D(f,[!1]):(a=Math.round(a),0>a||a>=w.length||null==w[a]?D(f,[!1]):T(G,a,function(){D(f,[!0])}))};e.needAlwaysTrueTransform=!1;var T=function(a,f,q){G=f;f=
w[a].crop;var g=w[G].crop;f.left==g.left&&f.top==g.top&&f.width==g.width&&f.bottom==g.bottom&&w[a].srcBlob==w[G].srcBlob?(k(p).setTransform(w[G].transform.dot(w[a].transform.inversion()).dot(k(p).getTransform())),E.setImgStyleFit(),q&&q()):ga(e.needAlwaysTrueTransform,!1,q)},ka=function(e){k(p).siblings().hide();ga(!1,!1,function(){a.isAutoShowCropUI&&t.showCropRect();e&&e()})},ca;ca=Math.min(screen.width,screen.height)*(window.devicePixelRatio||1);var ga=e.updateCvsAsync=function(a,f,e){k(p).hide();
var g=w[G],h=g.srcBlob||v[F].kPainterOriBlob,u=function(){var n=URL.createObjectURL(h),k=new Image;k.onload=k.onerror=function(){k.onload=k.onerror=null;X(k,g,a,f);URL.revokeObjectURL(n);e&&e()};k.src=n};window.createImageBitmap?createImageBitmap(h).then(function(h){X(h,g,a,f);e&&e()})["catch"](function(){u()}):u()},X=function(e,f,l,g){a._noAnyUseButForIosSafariBug0=e.naturalWidth;a._noAnyUseButForIosSafariBug1=e.naturalHeight;var h=e.naturalWidth||e.width,u=e.naturalHeight||e.height,n=f.crop;f=f.transform;
var r=p.getContext("2d"),q=p.fullQualityWidth=Math.round(h*n.width)||1,I=p.fullQualityHeight=Math.round(u*n.height)||1,t=!1;0!=f.a*f.d&&0==f.b*f.c?(p.fullQualityWidth=q,p.fullQualityHeight=I):(p.fullQualityWidth=I,p.fullQualityHeight=q,l&&(t=!0));p.hasCompressed=!1;if(l){var K,z;t?(K=I,z=q):(K=q,z=I);p.width=K;p.height=z;r.setTransform(f.a,f.b,f.c,f.d,K/2*(1-f.a-f.c),z/2*(1-f.b-f.d))}else q>ca||I>ca?(K=ca/Math.max(q,I),p.width=Math.round(q*K)||1,p.height=Math.round(I*K)||1,p.hasCompressed=!0):(p.width=
q,p.height=I);K=Math.round(h*n.left);n=Math.round(u*n.top);K==h&&--K;n==u&&--n;t?(h=p.height,u=p.width):(h=p.width,u=p.height);if(2>=q/h)r.drawImage(e,K,n,q,I,0,0,h,u);else{t=document.createElement("canvas");t.width=Math.round(q/2);t.height=Math.round(I/2);z=t.getContext("2d");var R=Math.round(q/2),d=Math.round(I/2);for(z.drawImage(e,K,n,q,I,0,0,R,d);;){e=R;q=d;R=Math.round(e/2);d=Math.round(q/2);if(R<=h||d<=u)break;z.drawImage(t,0,0,e,q,0,0,R,d)}r.drawImage(t,0,0,e,q,0,0,h,u)}l?k(p).setTransform(new kUtil.Matrix(1,
0,0,1,0,0)):k(p).setTransform(f);g||(E.setImgStyleFit(),k(p).show())};a.enterEditAsync=function(a){if(L||-1==F)D(a,[!1]);else{ea="";y();L=!0;var f=v[F].kPainterProcess||{crop:{left:0,top:0,width:1,height:1},transform:new kUtil.Matrix(1,0,0,1,0,0),srcBlob:null,saveFormat:null};w.push(f);G=0;ka(function(){H();N=J=null;ea="basicEdit";D(a,[!0])})}};var aa=a.cancelEdit=function(){if(!L)return!1;L=!1;w.length=0;C.length=0;S.showImg(F);k(p).hide();t.hideCropRect();pa.hideFreeTransformBorderDirectly();N=
J=null;ea="view";return!0},Q=function(a,f){var e=w[G].crop,g=w[G].transform,h=w[0].crop,u=w[0].transform,n=v[F];if(w[G].srcBlob||u.a!=g.a||u.b!=g.b||u.c!=g.c||u.d!=g.d||Math.round(n.kPainterOriWidth*e.left)!=Math.round(n.kPainterOriWidth*h.left)||Math.round(n.kPainterOriHeight*e.top)!=Math.round(n.kPainterOriHeight*h.top)||Math.round(n.kPainterOriWidth*(e.left+e.width))!=Math.round(n.kPainterOriWidth*(h.left+h.width))||Math.round(n.kPainterOriHeight*(e.top+e.height))!=Math.round(n.kPainterOriHeight*
(h.top+h.height))){URL.revokeObjectURL(n.src);var r=new Image,e=function(){r.onload=r.onerror=function(){r.onload=r.onerror=null;f?(k(v[F]).remove(),v.splice(F,1,r)):v.splice(++F,0,r);A.children(".kPainterImgsDiv").append(r);a&&a()};l(p,function(a){r.kPainterBlob=a;r.kPainterWidth=p.width;r.kPainterHeight=p.height;w[G].srcBlob?(r.kPainterOriBlob=a,r.kPainterOriWidth=p.width,r.kPainterOriHeight=p.height,r.kPainterSaveFormat=w[G].saveFormat):(r.kPainterOriBlob=n.kPainterOriBlob,r.kPainterOriWidth=n.kPainterOriWidth,
r.kPainterOriHeight=n.kPainterOriHeight,r.kPainterProcess=w[G],r.kPainterSaveFormat=n.kPainterSaveFormat);a=URL.createObjectURL(a);r.src=a},w[G].saveFormat||n.kPainterSaveFormat)};p.hasCompressed||1!=g.a||0!=g.b||0!=g.c||1!=g.d||0!=g.e||0!=g.f?(k(p).hide(),ga(!0,!0,e)):e()}else a()},M=!1;a.saveEditAsync=function(e,f){!L||M?D(e,[!1]):(ea="",M=!0,y(),setTimeout(function(){Q(function(){aa();H();M=!1;N=J=null;try{(function(){for(var e=0;e<S.thumbnailBoxArr.length;++e){var g=S.thumbnailBoxArr[e],h=v[F];
a._noAnyUseButForIosSafariBug0=h.naturalWidth;a._noAnyUseButForIosSafariBug1=h.naturalHeight;var u=Math.min(g.kPainterMaxWH/h.naturalWidth,g.kPainterMaxWH/h.naturalHeight,1),n;f?(n=k(g.kPainterThumbBoxArr[F]),n=n.hasClass("kPainterThumbnailCanvas")?n[0]:n.find(".kPainterThumbnailCanvas")[0]):(n=document.createElement("canvas"),n.className="kPainterThumbnailCanvas");n.width=Math.round(h.naturalWidth*u);n.height=Math.round(h.naturalHeight*u);n.getContext("2d").drawImage(h,0,0,n.width,n.height);if(!f){h=
g.kPainterFunWrap;u=null;try{u=h?h(n):n}catch(r){return setTimeout(function(){throw r;},0),!1}u&&(u.getKPainterIndex=function(){return g.kPainterThumbBoxArr.indexOf(this)},g.kPainterThumbBoxArr.splice(F,0,u),k(g.kPainterThumbBoxArr[F-1]).after(u))}}})()}catch(q){setTimeout(function(){throw q;},0)}ea="view";D(e,[!0])},f)},100))};a.rotateRight=function(){if(!L)return!1;var a=k(p).getTransform(),a=kUtil.Matrix.dot(new kUtil.Matrix(0,1,-1,0,0,0),a);k(p).setTransform(a);O({transform:a});a=p.fullQualityWidth;
p.fullQualityWidth=p.fullQualityHeight;p.fullQualityHeight=a;E.setImgStyleFit();return!0};a.rotateLeft=function(){if(!L)return!1;var a=k(p).getTransform(),a=kUtil.Matrix.dot(new kUtil.Matrix(0,-1,1,0,0,0),a);k(p).setTransform(a);O({transform:a});a=p.fullQualityWidth;p.fullQualityWidth=p.fullQualityHeight;p.fullQualityHeight=a;E.setImgStyleFit();return!0};a.mirror=function(){if(!L)return!1;var a=k(p).getTransform(),a=kUtil.Matrix.dot(new kUtil.Matrix(-1,0,0,1,0,0),a);k(p).setTransform(a);O({transform:a});
E.setImgStyleFit();return!0};a.flip=function(){if(!L)return!1;var a=k(p).getTransform(),a=kUtil.Matrix.dot(new kUtil.Matrix(1,0,0,-1,0,0),a);k(p).setTransform(a);O({transform:a});E.setImgStyleFit();return!0};a.resizeAsync=function(a,f,k){if(!L)return D(k,[!1]);a=parseInt(a);f=parseInt(f);if(a!==a||1>a||f!==f||1>f)return D(k,[!1]);y();e.updateCvsAsync(!0,!0,function(){e.needAlwaysTrueTransform=!0;for(var g=a,h=f;2*g<p.width;)g*=2;for(;2*h<p.height;)h*=2;for(var u=p,n;;){n=document.createElement("canvas");
n.width=g;n.height=h;n.getContext("2d").drawImage(u,0,0,g,h);var r=!1;a!=g&&(g/=2,r=!0);f!=h&&(h/=2,r=!0);if(!r)break}l(n,function(a){e.pushStack({srcBlob:a,saveFormat:"image/jpeg"});e.updateCvsAsync(!1,!1,function(){e.needAlwaysTrueTransform=!1;H();D(k,[!0])})})})};a.getEditWidth=function(){return L?p.fullQualityWidth:NaN};a.getEditHeight=function(){return L?p.fullQualityHeight:NaN}},t=new function(){var e=this;a.isAutoShowCropUI=!0;var l=A.children(".kPainterCroper");e.isCropRectShowing=!1;a.showCropRect=
e.showCropRect=function(){L&&(e.isCropRectShowing=!0,K(),l.show())};a.hideCropRect=e.hideCropRect=function(){e.isCropRectShowing=!1;l.hide()};l.css({"border-left-width":"100000px","border-top-width":"100000px","border-right-width":"100000px","border-bottom-width":"100000px",left:"-100000px",top:"-100000px",right:"-100000px",bottom:"-100000px"});a.setCropRectStyle=function(a){switch(parseInt(a)){case 0:return l.find(">.kPainterBigMover").hide(),l.find(">.kPainterMover").show(),!0;case 1:return l.find(">.kPainterMover").hide(),
l.find(">.kPainterBigMover").show(),!0;default:return!1}};var t,v,y,C,F,H,E,S,X,aa,Q,M,z,f,q,g,h,u,n,r;a.cropRectMinW=50;a.cropRectMinH=50;var Y=function(){"crop"==N&&(N=J=null)},I=function(){H=A.contentBoxRect();var a=k(p).getTransform(),d=parseFloat(p.style.left)+1E5,e=parseFloat(p.style.top)+1E5;0!=a.a*a.d&&0==a.b*a.c?(Q=parseFloat(p.style.width),M=parseFloat(p.style.height)):(Q=parseFloat(p.style.height),M=parseFloat(p.style.width));var a=Q/2,I=M/2;E=d-a;S=e-I;X=d+a;aa=e+I;q=parseFloat(l[0].style.width);
g=parseFloat(l[0].style.height);z=parseFloat(l[0].style.left)-q/2+1E5;f=parseFloat(l[0].style.top)-g/2+1E5;h=Math.max(-H.width/2,E);u=Math.max(-H.height/2,S);n=Math.min(H.width/2,X);r=Math.min(H.height/2,aa)};A.find("> .kPainterCroper > .kPainterEdges > div, > .kPainterCroper > .kPainterCorners > div, > .kPainterCroper > .kPainterMover, > .kPainterCroper > .kPainterBigMover").on("touchstart touchcancel touchend mousedown",function(a){a.preventDefault();var d=a.originalEvent.targetTouches;if(!d){if(!J)J=
"mouse";else if("mouse"!=J)return;d=[{pageX:a.originalEvent.clientX,pageY:a.originalEvent.clientY}]}else if(d.length)if(!J)J="touch";else if("touch"!=J)return;1==d.length?null==N&&(N="crop",y=d[0].identifier,t=d[0].pageX,v=d[0].pageY,a=k(this).attr("data-orient").split(","),C=a[0],F=a[1],I()):0==d.length&&Y()});A.on("mouseup",function(){"mouse"==J&&Y()});A.on("mouseleave",function(a){"mouse"==J&&a.originalEvent.buttons&&Y()});a.onCropRectChange=null;var ia=function(){l[0].style.left=z+q/2-1E5+"px";
l[0].style.right=-z-q/2-1E5+"px";l[0].style.top=f+g/2-1E5+"px";l[0].style.bottom=-f-g/2-1E5+"px";l[0].style.width=q+"px";l[0].style.height=g+"px";D(a.onCropRectChange)};A.on("touchmove mousemove",function(e){e.preventDefault();var d=e.originalEvent.targetTouches;if(!d){if("mouse"!=J)return;d=[{pageX:e.originalEvent.clientX,pageY:e.originalEvent.clientY}]}else if("touch"!=J)return;if(1==d.length&&"crop"==N&&y==d[0].identifier){var k=t;e=v;t=d[0].pageX;v=d[0].pageY;d=t-k;e=v-e;-1==C?(q-d<a.cropRectMinW&&
(d=q-a.cropRectMinW),z+d<h&&(d=h-z),q-=d,z+=d):1==C&&(q+d<a.cropRectMinW&&(d=-q+a.cropRectMinW),z+q+d>n&&(d=n-q-z),q+=d);-1==F?(g-e<a.cropRectMinH&&(e=g-a.cropRectMinH),f+e<u&&(e=u-f),g-=e,f+=e):1==F&&(g+e<a.cropRectMinH&&(e=-g+a.cropRectMinH),f+g+e>r&&(e=r-g-f),g+=e);0==C&&0==F&&(z+d<h?d=h-z:z+q+d>n&&(d=n-q-z),f+e<u?e=u-f:f+g+e>r&&(e=r-g-f),z+=d,f+=e);ia()}});var K=a.setCropRectArea=function(a,d,k,l){if(!e.isCropRectShowing)return!1;-.5<=a||(a=-.5);-.5<=d||(d=-.5);.5>=k||(k=.5);.5>=l||(l=.5);a>k&&
(a=k=(a+k)/2);d>l&&(d=l=(d+l)/2);I();z=E+(a+.5)*Q;z<h&&(z=h);f=S+(d+.5)*M;f<u&&(f=u);a=E+(k+.5)*Q;a>n&&(a=n);q=a-z;l=S+(l+.5)*M;l>r&&(l=r);g=l-f;ia();return!0},fa=a.getCropRectArea=function(a){if(!e.isCropRectShowing)return null;var d=k(p).getTransform();(0!=d.a*d.d&&0==d.b*d.c?parseFloat(p.style.width):parseFloat(p.style.height))!=Q&&I();var d=(z-E)/Q-.5,h=(f-S)/M-.5,n=d+q/Q,r=h+g/M;a&&(d=Math.round(d*p.fullQualityWidth*2)/2,h=Math.round(h*p.fullQualityHeight*2)/2,n=Math.round(n*p.fullQualityWidth*
2)/2,r=Math.round(r*p.fullQualityHeight*2)/2);return[d,h,n,r]};e.getNeededRect=function(){I();var a={};a.width=2*Math.max(-z,z+q);a.height=2*Math.max(-f,f+g);return a};a.cropAsync=function(a,d){if(L)if(I(),d=d||fa()){var e=d[0],f=d[1],g=d[2],h=d[3];.5>(e+.5)*p.fullQualityWidth&&.5>=(.5-g)*p.fullQualityWidth&&.5>(f+.5)*p.fullQualityHeight&&.5>=(.5-h)*p.fullQualityHeight?D(a,[e,f,g,h]):(O.pushStack({crop:{left:e+.5,top:f+.5,width:g-e,height:h-f}}),O.updateCvsAsync(O.needAlwaysTrueTransform,!1,function(){D(a,
[e,f,g,h])}))}else D(a,[null]);else D(a,[null])}},pa=new function(){var e=this;(function(){var v=Math.PI/180,w=Math.PI/6,C=Math.PI/18,F=function(a){var e=p.width,f=p.height,g;e>f?e>a&&(g=a/e,e=a,f=Math.round(f*g)||1):f>a&&(g=a/f,f=a,e=Math.round(e*g)||1);a=k(p).getTransform();var r;0!=a.a*a.d&&0==a.b*a.c?(g=e,r=f):(g=f,r=e);var l=document.createElement("canvas");l.width=g;l.height=r;l=l.getContext("2d");l.setTransform(a.a,a.b,a.c,a.d,g/2*(1-a.a-a.c),r/2*(1-a.b-a.d));l.drawImage(p,0,0,e,f);return l.getImageData(0,
0,g,r)},W=function(e,f,k){if("string"==typeof e||e instanceof String||e instanceof Blob)S.getBlobAndFormatFromAnyImgData(e,function(a){a?da(a,null,function(a){W(a,f,k)}):k(null)});else if(e instanceof Image)try{a._noUseButTestSrc=e.src}catch(K){setTimeout(function(a){throw a;},0);k(null);return}else if(e instanceof ImageData){if(e.width<=f&&e.height<=f){setTimeout(function(){k(e)},0);return}var g=e;e=document.createElement("canvas");e.width=g.width;e.height=g.height;e.getContext("2d").putImageData(g,
e.width,e.height)}var h=document.createElement("canvas"),g=e.naturalWidth||e.videoWidth||e.width,l=e.naturalHeight||e.videoHeight||e.height,u=1;g>l?g>f&&(u=f/g,g=f,l=Math.round(l*u)||1):l>f&&(u=f/l,l=f,g=Math.round(g*u)||1);h.width=g;h.height=l;var q=h.getContext("2d");q.drawImage(e,0,0,h.width,h.height);setTimeout(function(){k(q.getImageData(0,0,h.width,h.height))},0)};a.documentDetectAsync=function(a,e){if(!e){if("perspect"!=N){D(a,[null]);return}y()}var f=KPainter._cv;W(e||F(256),256,function(g){var h=
new f.matFromArray(g,f.CV_8UC4);g=h.cols;var k=h.rows,n=Math.min(h.cols,h.rows);f.cvtColor(h,h,f.ColorConversionCodes.COLOR_RGBA2GRAY.value,0);var l=new f.Mat;f.GaussianBlur(h,l,[5,5],0,0,f.BORDER_DEFAULT);f.delMat(h);h=new f.Mat;f.Canny(l,h,8,.5*n,3,!1);f.delMat(l);var q=new f.Mat;f.HoughLinesP(h,q,1,v,8,8,3);f.delMat(h);for(var u=q.data32s(),p=[],h=g/2,d=k/2,l=0;l<u.length;l+=2)p.push(u[l]-h),p.push(u[l+1]-d);f.delMat(q);for(var t=[],l=0;l<p.length;l+=4){var q=p[l+0],y=p[l+1],z=p[l+2],F=p[l+3],
A=y-F,G=z-q,u=q*F-z*y;if(0!=u){var E=0>u?-1:1,J=Math.sqrt(A*A+G*G),A=A/J*E,G=G/J*E,u=u/J*E,E=Math.atan(A/G),J=Math.abs(E);J>w&&J<Math.PI/2-w||(0>G?0==A?(G=-1,E=0):E=-E:0<G?0>A?E=-Math.PI-E:0<A?E=Math.PI-E:(G=1,E=Math.PI):0<A?(A=1,E=Math.PI/2):(A=-1,E=-Math.PI/2),q=Math.sqrt((z-q)*(z-q)+(F-y)*(F-y)),t.push([A,G,u,E,q]))}}l=[];p=[];T(t,l,2,C,.7*n);T(l,p,2,C,.7*n);n=[null,null,null,null];for(l=0;l<p.length;++l)t=p[l],E=t[3],y=E<3*-Math.PI/4?0:E<-Math.PI/4?1:E<Math.PI/4?2:E<3*Math.PI/4?3:0,n[y]?(q=n[y],
E=q[2],A=q[4],u=t[2],q=t[4],u*q>E*A&&(n[y]=t)):n[y]=t;for(l=0;l<n.length;++l)t=n[l],null==t&&(t=[],n[l]=t,0==l?(t[2]=d,t[3]=Math.PI):1==l?(t[2]=h,t[3]=-Math.PI/2):2==l?(t[2]=d,t[3]=0):3==l&&(t[2]=h,t[3]=Math.PI/2)),t[0]=Math.sin(t[3]),t[1]=-Math.cos(t[3]);h=[];for(l=0;l<n.length;++l)p=n[l],q=n[(l-1+n.length)%n.length],d=p[0],u=p[1],p=p[2],t=q[0],y=q[1],E=q[2],q=(u*E-y*p)/(y*d-u*t),y=(d*E-t*p)/(t*u-d*y),h.push([q/g,y/k]);e||(ga(h),H());D(a,[h])})};var T=function(a,e,f,k,l){for(var g=0;g<a.length;++g){for(var h=
a[g],n=!1,r=0;r<e.length;++r){var q=e[r],u=q[3],d=h[3],p=u-d;p>Math.PI?d+=2*Math.PI:p<-Math.PI&&(d-=2*Math.PI);p=Math.abs(q[2]-h[2]);if(Math.abs(u-d)<k&&p<f){var n=!0,p=q[4],t=h[4],r=p+t;q[2]=(q[2]*p+h[2]*t)/r;u=(u*p+d*t)/r;u>Math.PI?u-=2*Math.PI:u<=-Math.PI&&(u+=2*Math.PI);q[3]=u;q[4]=Math.min(r,l);break}}n||e.push([null,null,h[2],h[3],h[4]])}},ka=A.children(".kPainterPerspect");e.hideFreeTransformBorderDirectly=function(){ka.hide()};var ca=A.find("> .kPainterPerspect > .kPainterPerspectCvs")[0];
a.onFreeTransformCornerPosChange=null;var ga=a.setFreeTransformCornerPos=function(a){if("perspect"==N){var e=p.kPainterZoom,f=k(p).getTransform(),g=p.width*e,e=p.height*e;if(0==f.a*f.d||0!=f.b*f.c)f=g,g=e,e=f;for(var l=A.borderBoxRect(),f=l.width/2-5,l=l.height/2-5,q=0;q<Q.length;++q){var t=Q[q],v=k(t).attr("data-index"),w=a[v],v=g*w[0],w=e*w[1];v<-f?v=-f:v>f&&(v=f);w<-l?w=-l:w>l&&(w=l);t.style.left=v+"px";t.style.right=-v+"px";t.style.top=w+"px";t.style.bottom=-w+"px"}aa();ka.show()}},X=a.getFreeTransformCornerPos=
function(){var a=p.kPainterZoom,e=k(p).getTransform(),f=p.width*a,a=p.height*a;if(0==e.a*e.d||0!=e.b*e.c)e=f,f=a,a=e;for(var e=[],n=0;n<Q.length;++n){var l=Q[n];e.push([parseFloat(l.style.left)/f,parseFloat(l.style.top)/a])}return e},aa=function(){var e=A.borderBoxRect();ca.width=Math.round(e.width);ca.height=Math.round(e.height);for(var f=[],k=0;k<Q.length;++k)f.push([Math.round(parseFloat(Q[k].style.left)+e.width/2),Math.round(parseFloat(Q[k].style.top)+e.height/2)]);for(var e=ca.getContext("2d"),
n=Number.POSITIVE_INFINITY,l,k=0;4>k;++k){var q=f[k][0]*f[k][0]+f[k][1]*f[k][1];q<n&&(n=q,l=k)}for(var p=[],k=0;4>k;++k)p.push([f[(l+k)%4][0],f[(l+k)%4][1]]);e.fillStyle="rgba(0,0,0,0.3)";e.beginPath();e.moveTo(0,0);e.lineTo(p[0][0],p[0][1]);l=function(a,e,f,g,d,h,k,l){return[Math.sign((g-e)*d+(a-f)*h+f*e-a*g),Math.sign((g-e)*k+(a-f)*l+f*e-a*g)]};f=[];for(k=0;4>k;++k)f.push(l(p[k][0],p[k][1],p[(k+1)%4][0],p[(k+1)%4][1],p[(k+2)%4][0],p[(k+2)%4][1],p[(k+3)%4][0],p[(k+3)%4][1]));k=function(a,e,f,g,d,
h,k,l){var n=g-e,p=a-f;a=f*e-a*g;e=l-h;f=d-k;d=k*h-d*l;h=p*e-f*n;return[(a*f-d*p)/h,(d*n-a*e)/h]};l=void 0;n=function(){var a,e,f=p[1][0]-p[0][0];f&&(a=(p[1][1]-p[0][1])/f);var g=p[3][0]-p[0][0];g&&(e=(p[3][1]-p[0][1])/g);return 0<f?0<g?a<=e:!0:0==f?0<g?!1:!0:0<=g?!1:a<=e}();0>f[0][0]*f[0][1]?0>f[2][0]*f[2][1]&&(l=k(p[0][0],p[0][1],p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]),n?(e.lineTo(l[0],l[1]),e.lineTo(p[2][0],p[2][1]),e.lineTo(p[1][0],p[1][1]),e.lineTo(l[0],l[1]),e.lineTo(p[3][0],p[3][1])):
(e.lineTo(p[3][0],p[3][1]),e.lineTo(l[0],l[1]),e.lineTo(p[1][0],p[1][1]),e.lineTo(p[2][0],p[2][1]),e.lineTo(l[0],l[1]))):0>f[1][0]*f[1][1]&&0>f[3][0]*f[3][1]&&(l=k(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1],p[0][0],p[0][1]),n?(e.lineTo(p[1][0],p[1][1]),e.lineTo(l[0],l[1]),e.lineTo(p[3][0],p[3][1]),e.lineTo(p[2][0],p[2][1]),e.lineTo(l[0],l[1])):(e.lineTo(l[0],l[1]),e.lineTo(p[2][0],p[2][1]),e.lineTo(p[3][0],p[3][1]),e.lineTo(l[0],l[1]),e.lineTo(p[1][0],p[1][1])));l||(n?(e.lineTo(p[1][0],p[1][1]),
e.lineTo(p[2][0],p[2][1]),e.lineTo(p[3][0],p[3][1])):(e.lineTo(p[3][0],p[3][1]),e.lineTo(p[2][0],p[2][1]),e.lineTo(p[1][0],p[1][1])));e.lineTo(p[0][0],p[0][1]);e.lineTo(0,0);e.lineTo(0,ca.height);e.lineTo(ca.width,ca.height);e.lineTo(ca.width,0);e.lineTo(0,0);e.fill();D(a.onFreeTransformCornerPosChange)},Q=A.find("> .kPainterPerspect > .kPainterPerspectCorner");Q.css("left","0");Q.css("top","0");Q.css("right","0");Q.css("bottom","0");var M=null,z,f,q;Q.on("touchstart touchcancel touchend mousedown",
function(a){q=this;a.preventDefault();var e=a.originalEvent.targetTouches;if(!e){if(!J)J="mouse";else if("mouse"!=J)return;e=[{pageX:a.originalEvent.clientX,pageY:a.originalEvent.clientY}]}else if(e.length)if(!J)J="touch";else if("touch"!=J)return;a=function(){var a=ka.width()/2-5,e=ka.height()/2-5,f=parseFloat(q.style.left),g=parseFloat(q.style.top),h=!0,k=!0;f<-a?f=-a:f>a?f=a:h=!1;g<-e?g=-e:g>e?g=e:k=!1;h&&(q.style.left=f+"px",q.style.right=-f+"px");k&&(q.style.top=g+"px",q.style.bottom=-g+"px");
(h||k)&&aa()};1==e.length?("perspect"==N&&(N="perspectCornerMoving"),a(),M=e[0].identifier,z=e[0].pageX,f=e[0].pageY):0==e.length&&"perspectCornerMoving"==N&&(a(),J=null,N="perspect")});A.on("touchmove mousemove",function(a){a.preventDefault();var e=a.originalEvent.targetTouches;if(!e){if("mouse"!=J)return;e=[{pageX:a.originalEvent.clientX,pageY:a.originalEvent.clientY}]}else if("touch"!=J)return;if(1==e.length&&"perspectCornerMoving"==N&&M==e[0].identifier){var g=z;a=f;z=e[0].pageX;f=e[0].pageY;
e=z-g;a=f-a;e=parseFloat(q.style.left)+e;a=parseFloat(q.style.top)+a;q.style.left=e+"px";q.style.right=-e+"px";q.style.top=a+"px";q.style.bottom=-a+"px";aa()}});A.on("mouseup",function(){"mouse"==J&&"perspectCornerMoving"==N&&(J=null,N="perspect")});A.on("mouseleave",function(a){"mouse"==J&&a.originalEvent.buttons&&"perspectCornerMoving"==N&&(J=null,N="perspect")});a.freeTransformMaxWH=2048;a.freeTransformAsync=function(e,f,k){if(k||"perspect"==N){y();var g=KPainter._cv,h=f=f||X();.005>Math.abs(h[0][0]-
.5)&&.005>Math.abs(h[0][1]-.5)&&.005>Math.abs(h[1][0]+.5)&&.005>Math.abs(h[1][1]-.5)&&.005>Math.abs(h[2][0]+.5)&&.005>Math.abs(h[2][1]+.5)&&.005>Math.abs(h[3][0]-.5)&&.005>Math.abs(h[3][1]+.5)?(H(),k?D(e,[null]):D(e,[!0])):W(k||F(a.freeTransformMaxWH),a.freeTransformMaxWH,function(a){a=new g.matFromArray(a,g.CV_8UC4);g.cvtColor(a,a,g.ColorConversionCodes.COLOR_RGBA2RGB.value,0);for(var h=new g.Mat.zeros(4,1,g.CV_32FC2),n=h.data32f(),q=0;q<f.length;++q){var r=f[q];n[2*q]=Math.round((r[0]+.5)*a.cols);
n[2*q+1]=Math.round((r[1]+.5)*a.rows)}var t=n[2]-n[0],d=n[3]-n[1],r=n[4]-n[2],q=n[5]-n[3],u=n[6]-n[4],v=n[7]-n[5],w=n[0]-n[6],y=n[1]-n[7],n=Math.round(Math.max(Math.sqrt(t*t+d*d),Math.sqrt(u*u+v*v))),r=Math.round(Math.max(Math.sqrt(r*r+q*q),Math.sqrt(w*w+y*y))),w=new g.Mat.zeros(4,1,g.CV_32FC2),q=w.data32f();q[2]=n;q[4]=n;q[5]=r;q[7]=r;q=g.getPerspectiveTransform(h,w);g.delMat(h);g.delMat(w);h=new g.Mat.zeros(r,n,g.CV_8UC3);w=new g.Scalar(0,255,0);g.warpPerspective(a,h,q,[h.rows,h.cols],g.InterpolationFlags.INTER_LINEAR.value,
g.BORDER_CONSTANT,w);g.delMat(a);g.delMat(q);g.delMat(w);a=new ImageData(n,r);w=h.channels();t=h.data();for(d=q=0;q<t.length;q+=w,d+=4)a.data[d]=t[q],a.data[d+1]=t[q+1%w],a.data[d+2]=t[q+2%w],a.data[d+3]=255;g.delMat(h);p.width=n;p.height=r;p.getContext("2d").putImageData(a,0,0);E.setImgStyleFit();l(p,function(a){k?D(e,[a]):(O.pushStack({srcBlob:a,saveFormat:"image/jpeg"}),O.updateCvsAsync(!0,!1,function(){ga([[-.5,-.5],[.5,-.5],[.5,.5],[-.5,.5]]);N="perspect";H();D(e,[!0])}))},"image/jpeg")})}else D(e,
[!1])};a.enterFreeTransformModeAsync=function(a){L&&KPainter.cvHasLoaded?(ea="",J=null,N="perspect",y(),setTimeout(function(){t.hideCropRect();O.updateCvsAsync(!0,!1,function(){ga([[-.5,-.5],[.5,-.5],[.5,.5],[-.5,.5]]);ka.show();H();O.needAlwaysTrueTransform=!0;D(a,[!0]);ea="freeTransform"})},0)):D(a,[!1])};a.exitFreeTransformModeAsync=function(e){"perspect"!=N?D(e,[!1]):(ea="",ka.hide(),O.updateCvsAsync(!1,!1,function(){a.isAutoShowCropUI&&t.showCropRect();N=J=null;O.needAlwaysTrueTransform=!1;ea=
"basicEdit";D(e,[!0])}))}})()};new function(){a.videoHtmlElement=k('<div class="kPainterVideoMdl" style="display:none;"><video class="kPainterVideo" webkit-playsinline="true"></video><select class="kPainterCameraSelect"></select><select class="kPainterResolutionSelect"><option class="kPainterGotResolutionOpt" value="got" selected></option><option data-width="3840" data-height="2160">ask 3840 x 2160</option><option data-width="1920" data-height="1080">ask 1920 x 1080</option><option data-width="1600" data-height="1200">ask 1600 x 1200</option><option data-width="1280" data-height="720">ask 1280 x 720</option><option data-width="800" data-height="600">ask 800 x 600</option><option data-width="640" data-height="480">ask 640 x 480</option><option data-width="640" data-height="360">ask 640 x 360</option></select><button class="kPainterBtnGrabVideo"><svg width="48" viewBox="0 0 2048 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1024 672q119 0 203.5 84.5t84.5 203.5-84.5 203.5-203.5 84.5-203.5-84.5-84.5-203.5 84.5-203.5 203.5-84.5zm704-416q106 0 181 75t75 181v896q0 106-75 181t-181 75h-1408q-106 0-181-75t-75-181v-896q0-106 75-181t181-75h224l51-136q19-49 69.5-84.5t103.5-35.5h512q53 0 103.5 35.5t69.5 84.5l51 136h224zm-704 1152q185 0 316.5-131.5t131.5-316.5-131.5-316.5-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5z"/></svg></button><button class="kPainterBtnCloseVideo"><svg width="48" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"/></svg></button></div>')[0];
a.videoSettings={video:{facingMode:{ideal:"environment"}}};a.beforeAddImgFromGrabVideoBtn=null;a.afterAddImgFromGrabVideoBtn=null;a.grabVideo=null;a.hideVideo=null;a.showVideo=function(e){a.hideVideo&&a.hideVideo();var l=k(a.videoHtmlElement).find(".kPainterVideo")[0],p=k(a.videoHtmlElement).find(".kPainterCameraSelect")[0],t=k(a.videoHtmlElement).find(".kPainterResolutionSelect")[0],v=k(a.videoHtmlElement).find(".kPainterGotResolutionOpt")[0],y=k(a.videoHtmlElement).find(".kPainterBtnGrabVideo")[0],
A=k(a.videoHtmlElement).find(".kPainterBtnCloseVideo")[0],E=function(){return p?navigator.mediaDevices.enumerateDevices().then(function(a){var e=p.value;p.innerHTML="";for(var f=void 0,h=0;h<a.length;++h){var k=a[h];if("videoinput"==k.kind){var n=document.createElement("option");n.value=k.deviceId;n.innerText=k.label||"camera "+h;p.appendChild(n);e==k.deviceId&&(f=n)}}var r=p.childNodes;if(!f&&r.length)try{l.srcObject.getTracks().forEach(function(a){if("video"==a.kind)for(var e=0;e<r.length;++e){var g=
r[e];if(a.label==g.innerText)throw f=g,"found the using source";}})}catch(Y){self.kConsoleLog&&self.kConsoleLog(Y)}f&&(p.value=f.value)}):Promise.reject("no camera select")},C=function(){l.srcObject&&(self.kConsoleLog&&self.kConsoleLog("======stop video========"),l.srcObject.getTracks().forEach(function(a){a.stop()}))},F=function(f){return new Promise(function(q,g){C();self.kConsoleLog&&self.kConsoleLog("======before video========");var h=e?e:a.videoSettings,u=t?k(t).children(":selected")[0]:null;
if(u&&u.hasAttribute("data-width")){var n=u.getAttribute("data-width"),u=u.getAttribute("data-height");v.setAttribute("data-width",n);v.setAttribute("data-height",u);/Safari/.test(navigator.userAgent)&&/iPhone/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?1280<=n?h.video.width=1280:640<=n?h.video.width=640:320<=n&&(h.video.width=320):(h.video.width={ideal:n},h.video.height={ideal:u});!f&&(n=k(p).children(":selected")[0])&&(f=n.value);f&&(h.video.facingMode=void 0,h.video.deviceId=
{exact:f})}var r=!1,w=function(){self.kConsoleLog&&self.kConsoleLog("======try getUserMedia========");self.kConsoleLog&&self.kConsoleLog("ask "+JSON.stringify(h.video.width)+"x"+JSON.stringify(h.video.height));navigator.mediaDevices.getUserMedia(h).then(function(a){self.kConsoleLog&&self.kConsoleLog("======get video========");return new Promise(function(e,f){l.srcObject=a;l.onloadedmetadata=function(){self.kConsoleLog&&self.kConsoleLog("======play video========");l.play().then(function(){self.kConsoleLog&&
self.kConsoleLog("======played video========");var a=l.videoWidth+"x"+l.videoHeight;v&&(v.innerText=a);t&&(t.value="got");self.kConsoleLog&&self.kConsoleLog(a);e()},function(a){f(a)})};l.onerror=function(){f()}})}).then(function(){q()})["catch"](function(a){self.kConsoleLog&&self.kConsoleLog(a);r?g(a):(r=!0,h.video.width=void 0,h.video.height=void 0,w())})};w()})},H=function(){F(p.value).then(function(){M&&C()})["catch"](function(a){alert("Play video failed: "+(a.message||a))})};p&&p.addEventListener("change",
H);var J=function(){F().then(function(){M&&C()})["catch"](function(a){alert("Play video failed: "+(a.message||a))})};t&&t.addEventListener("change",J);a.grabVideo=function(e,k){var f=document.createElement("canvas");f.width=l.videoWidth;f.height=l.videoHeight;f.getContext("2d").drawImage(l,0,0);if(!e)return f;a.addImageAsync(f,k)};var L=function(){if(a.beforeAddImgFromGrabVideoBtn){var e=a.grabVideo();D(a.beforeAddImgFromGrabVideoBtn,[e,function(e){a.addImageAsync(e,a.afterAddImgFromGrabVideoBtn)}])}else a.grabVideo(!0,
a.afterAddImgFromGrabVideoBtn),a.hideVideo()};if(y)k(y).on("click touchstart",L);var M=!1,z=function(){C();M=!0;v.removeAttribute("data-width");var e=a.videoHtmlElement.parentNode;e&&e.removeChild(a.videoHtmlElement);p&&p.removeEventListener("change",H);t&&t.removeEventListener("change",J);y&&k(y).off("click touchstart",L);A&&k(A).off("click touchstart",z);a.grabVideo=null;a.hideVideo=null};a.hideVideo=z;if(A)k(A).on("click touchstart",z);document.body.appendChild(a.videoHtmlElement);return F().then(function(){if(M)return C(),
Promise.reject("Video window has closed.");E()["catch"](function(a){self.kConsoleLog&&kConsoleLog(a)});k(a.videoHtmlElement).show();return Promise.resolve()})}}};KPainter.cvFolder=void 0==KPainter.cvFolder?"js":KPainter.cvFolder;KPainter.cvHasLoaded=!1;KPainter._doCallbackNoBreak=function(e,a){if(e)try{e.apply(window,a||[])}catch(k){setTimeout(function(){throw k;},0)}};
KPainter.loadCvScriptAsync=function(e){KPainter._loadCvQueue=KPainter._loadCvQueue||new TaskQueue;KPainter._loadCvQueue.push(function(){if(KPainter.cvHasLoaded)KPainter._doCallbackNoBreak(e,[!0]),KPainter._loadCvQueue.next();else{KPainter._CVModule={cvFolder:KPainter.cvFolder,preRun:[],postRun:[],isRuntimeInitialized:!1,onRuntimeInitialized:function(){KPainter.cvHasLoaded=!0;self.kConsoleLog&&kConsoleLog("Runtime is ready!");KPainter._doCallbackNoBreak(e,[!0]);e=null;KPainter._loadCvQueue.next()},
onExit:function(){KPainter._doCallbackNoBreak(e,[!1]);e=null;KPainter._loadCvQueue.next()},onAbort:function(){KPainter._doCallbackNoBreak(e,[!1]);e=null;KPainter._loadCvQueue.next()},print:function(a){self.kConsoleLog&&kConsoleLog(a)},printErr:function(a){self.kConsoleLog&&kConsoleLog(a)},setStatus:function(a){self.kConsoleLog&&kConsoleLog(a)},totalDependencies:0};KPainter._CVModule.setStatus("Downloading...");var a=document.createElement("script"),k=KPainter.cvFolder;"/"!=k.charAt(k.length-1)&&(k+=
"/");a.src=window.WebAssembly?k+"cv-wasm.js?v=20180921":k+"cv.js?v=201800921";a.onerror=function(){KPainter._doCallbackNoBreak(e,[!1]);KPainter._loadCvQueue.next()};document.body.appendChild(a)}})};var MBC=KPainter;
